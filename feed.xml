<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>CellStack - 工程师技术笔记</title>
        <link>https://stack.mcell.top</link>
        <description>计算机科学的工程实践和个人思考。涵盖前端开发、后端架构、DevOps运维、AI工程等技术领域的深度文章和实战经验分享。</description>
        <lastBuildDate>Sun, 02 Nov 2025 19:17:41 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-cn</language>
        <copyright>© 2025 mCell</copyright>
        <item>
            <title><![CDATA[Agent = LLM + Tools]]></title>
            <link>https://stack.mcell.top/topics/ai/agent_is_llm_plus_tools</link>
            <guid>https://stack.mcell.top/topics/ai/agent_is_llm_plus_tools</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[深入浅出地讲解 AI Agent 的本质，从 LLM 到 Tools，从宿主环境到执行机制，用一个简洁的公式帮你理解 Claude Code、Codex 等智能体的工作原理。]]></description>
            <content:encoded><![CDATA[<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/064.png" alt="064.png" loading="lazy"></p>
<h1 id="agent-llm-tools" tabindex="-1">Agent = LLM + Tools <a class="header-anchor" href="#agent-llm-tools" aria-label="Permalink to &quot;Agent = LLM + Tools&quot;"></a></h1>
<p>最近，AI Agent 这个词非常火。</p>
<p>比如 Claude Code CLI、Codex，它能像个程序员一样，在你的命令行里读写文件、执行代码。很多人觉得很神奇，它到底是怎么做到的？</p>
<p>今天，我想谈谈我的理解。一句话就能概括。</p>
<h2 id="核心公式" tabindex="-1">核心公式 <a class="header-anchor" href="#核心公式" aria-label="Permalink to &quot;核心公式&quot;"></a></h2>
<p>我的观点是，AI Agent 的核心，就是下面这个公式：</p>
<p><strong>Agent = LLM + Tools</strong></p>
<p>Agent（智能体），等于 LLM（大语言模型），加上 Tools（工具）。</p>
<p>为什么这么说？我们来拆解一下。</p>
<h2 id="llm-思考的大脑" tabindex="-1">LLM：思考的大脑 <a class="header-anchor" href="#llm-思考的大脑" aria-label="Permalink to &quot;LLM：思考的大脑&quot;"></a></h2>
<p>LLM，比如 GPT-5 或 Claude 4.5，是 Agent 的“大脑”。</p>
<p>它非常聪明，擅长阅读、理解、思考、推理和做决策。你给它一个复杂的目标，它能帮你拆解成一步步的计划。</p>
<p>但是，LLM 本身有一个巨大的限制：<strong>它是一个封闭的“黑盒”</strong>。</p>
<p>它无法感知外部世界。你问它“我的桌面上有什么文件？”，它不知道。你让它“帮我把 A 文件的内容复制到 B 文件”，它也做不到。</p>
<p>它只能“想”，不能“做”。</p>
<h2 id="tools-连接世界的手脚" tabindex="-1">Tools：连接世界的手脚 <a class="header-anchor" href="#tools-连接世界的手脚" aria-label="Permalink to &quot;Tools：连接世界的手脚&quot;"></a></h2>
<p>要让 LLM “做”起来，就需要 Tools（工具）。</p>
<p>Tools，就是 Agent 的“手脚”和“感官”。它们是 LLM 连接外部世界的桥梁。</p>
<p>LLM 决定“做什么”（比如“读取 A 文件”），它不自己去读，而是去“调用”一个叫 <code>Read Tool</code> 的工具。这个工具负责真正执行操作，然后把结果（文件内容）返回给 LLM。</p>
<p>所以，常见的工具可能包括：</p>
<ul>
<li><code>Read Tool</code>：读取文件或网页内容。</li>
<li><code>Edit Tool</code>：修改或写入文件。</li>
<li><code>Delete Tool</code>：删除文件。</li>
<li><code>Find Tool</code>：搜索信息。</li>
<li><code>Execute Tool</code>：执行一段代码或命令。</li>
</ul>
<p>LLM 负责决策，Tools 负责执行。两者结合，Agent 就能感知和操作外部世界了。</p>
<h2 id="关键抽象-宿主环境" tabindex="-1">关键抽象：宿主环境 <a class="header-anchor" href="#关键抽象-宿主环境" aria-label="Permalink to &quot;关键抽象：宿主环境&quot;"></a></h2>
<p>Tools 到底是什么？</p>
<p>我们可以再抽象一点：<strong>Tools 是“宿主环境”能力的封装。</strong></p>
<p>这句话是关键。</p>
<ol>
<li>
<p>在 Claude Code CLI 这个例子里，“宿主环境”就是你的<strong>操作系统 (OS)</strong>。
Tools 封装的就是 <code>shell</code> 命令（比如 <code>ls</code>, <code>cat</code>, <code>sed</code>），让 LLM 能够操作你的本地文件。</p>
</li>
<li>
<p>如果我们想做一个“浏览器 Agent”呢？
“宿主环境”就是<strong>浏览器</strong>。
我们就需要封装浏览器提供的能力作为 Tools。</p>
</li>
</ol>
<h2 id="agent-的本质" tabindex="-1">Agent 的本质 <a class="header-anchor" href="#agent-的本质" aria-label="Permalink to &quot;Agent 的本质&quot;"></a></h2>
<p>所以，Agent 的创造逻辑就清晰了：</p>
<p>理论上，<strong>任何一个宿主环境，只要它提供的能力可以被封装成 Tools，我们就能基于它创造 Agent。</strong></p>
<ul>
<li>宿主环境是 OS，Agent 就是 OS 助手。</li>
<li>宿主环境是浏览器，Agent 就是浏览器助手。</li>
<li>宿主环境是数据库，Tools 就是 SQL 执行器，Agent 就是数据分析师。</li>
<li>宿主环境是 API 服务（比如天气、股票），Agent 就是你的生活助理。</li>
</ul>
<h2 id="不可或缺的-脚手架" tabindex="-1">不可或缺的“脚手架” <a class="header-anchor" href="#不可或缺的-脚手架" aria-label="Permalink to &quot;不可或缺的“脚手架”&quot;"></a></h2>
<p>当然，一个真正好用的 Agent，光有 <code>LLM + Tools</code> 还不够。</p>
<p>它还需要很多“脚手架”来支撑运转，比如：</p>
<ul>
<li><strong>上下文管理 (Context Management)</strong>：LLM 的“记忆”有限（即上下文窗口），如何只把最关键的信息喂给它？</li>
<li><strong>记忆 (Memory)</strong>：如何让 Agent 拥有短期记忆和长期记忆，从过去的经验中学习？</li>
<li><strong>执行机制 (Execution Mechanism)</strong>：如何设计一个循环（Loop），让“思考”和“行动”能交替往复、持续运行？（比如 ReAct 框架）</li>
<li><strong>提示词工程 (Prompt Engineering)</strong>：如何写好 Prompt，让 LLM 知道自己的目标、角色和手头有哪些工具可用？</li>
</ul>
<p>但万变不离其宗，这些机制都是为了让 <code>LLM + Tools</code> 这个核心公式更高效、更稳定地工作。</p>
<h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;"></a></h2>
<p><code>Agent = LLM + Tools</code>。</p>
<p>这个简洁的公式，为我们定义了一种新的软件范式。它告诉我们，如何将 LLM 的“智能”与现实世界的“能力”结合起来，创造出能自主感知和操作的智能体。</p>
<p>（完）</p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/064.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Agent ReAct and Loop]]></title>
            <link>https://stack.mcell.top/topics/ai/agent_react_and_loop</link>
            <guid>https://stack.mcell.top/topics/ai/agent_react_and_loop</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[深入解析 AI Agent 的 ReAct 架构和工作循环原理，探讨智能体如何实现自动化任务执行，从理论到实践的完整指南。]]></description>
            <content:encoded><![CDATA[<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/065.png" alt="065.png" loading="lazy"></p>
<h1 id="agent-react-and-loop" tabindex="-1">Agent ReAct and Loop <a class="header-anchor" href="#agent-react-and-loop" aria-label="Permalink to &quot;Agent ReAct and Loop&quot;"></a></h1>
<p>我一直在使用 ChatGPT 或通义千问这样的 AI 工具，它们很强大，但多数情况下都是“一问一答”。我提一个问题，它给一个答案。</p>
<p>但我注意到，像 Manus 或 Claude Code CLI 这样的“Agent”（智能体）产品，它们似乎可以<strong>自动执行</strong>任务。你给它一个目标，它会自己去调用工具、分析结果、继续下一步，直到任务完成。</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/066.png" alt="066" loading="lazy"></p>
<p>这到底是怎么做到的？它如何摆脱“一问一答”的限制，实现自动循环？这就是我这周探索的问题。</p>
<h2 id="关键概念-react" tabindex="-1">关键概念：ReAct <a class="header-anchor" href="#关键概念-react" aria-label="Permalink to &quot;关键概念：ReAct&quot;"></a></h2>
<p>我读了一些资料，发现了一个关键概念：<strong>ReAct</strong>。</p>
<p>这是 2022 年一篇论文（<a href="https://arxiv.org/abs/2210.03629" target="_blank" rel="noreferrer">ReAct: Synergizing Reasoning and Acting in Language Models</a>）提出的思想。它模仿了人类的工作方式：</p>
<ol>
<li><strong>Reason（思考）</strong>：分析当前情况，决定下一步该做什么。</li>
<li><strong>Act（行动）</strong>：执行一个动作（比如调用工具、搜索信息）。</li>
</ol>
<p>完成“行动”后，会得到一个新的“观察”（Observation），比如工具的返回结果。然后，Agent 带着这个新结果，回到第 1 步，再次“思考”，形成一个循环。</p>
<h2 id="一个线索-claude-的日志" tabindex="-1">一个线索：Claude 的日志 <a class="header-anchor" href="#一个线索-claude-的日志" aria-label="Permalink to &quot;一个线索：Claude 的日志&quot;"></a></h2>
<p>这个“思考-行动”的循环听起来很合理。为了验证它，我做了一个小实验。</p>
<p>我查看了 Claude 编码助手（我在 Mac 上的路径是 <code>./claude/projects/*.jsonl</code>）的会话日志文件。这些 <code>.jsonl</code> 文件记录了我和 Agent 的完整对话。</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/067.png" alt="067" loading="lazy"></p>
<p>我发现，里面的消息（Message）并不仅仅是“我问”和“它答”，而是主要有四种类型：</p>
<ul>
<li><code>user</code>：用户的消息。</li>
<li><code>assistant</code>：模型（Agent）的消息。</li>
<li><code>tool_call</code>：模型决定调用一个工具。</li>
<li><code>tool_result</code>：工具执行后返回的结果。</li>
</ul>
<p>这揭示了一个秘密：<code>assistant</code> 的回复并不总是最终答案。它可能是一个 <code>tool_call</code>（工具调用）请求，用来告诉外部程序：“请帮我执行这个函数”。</p>
<p>执行完毕后，系统会把 <code>tool_result</code>（工具结果）再发给 <code>assistant</code>。</p>
<h2 id="流程-一个循环" tabindex="-1">流程：一个循环 <a class="header-anchor" href="#流程-一个循环" aria-label="Permalink to &quot;流程：一个循环&quot;"></a></h2>
<p>看到这里，我基本想通了。Agent 的自动执行，本质上就是这样一个流程：</p>
<blockquote>
<p><code>[用户输入]</code> -&gt; <code>[LLM 思考]</code> -&gt; <code>[决定：调用工具 A]</code> -&gt; <code>[系统执行 A]</code> -&gt; <code>[A 的结果]</code> -&gt; <code>[LLM 思考]</code> -&gt; <code>[决定：调用工具 B]</code> -&gt; <code>[系统执行 B]</code> -&gt; ... -&gt; <code>[最终答案]</code></p>
</blockquote>
<p>这个流程的核心，就是一个<strong>循环（Loop）</strong>。</p>
<p>只要 LLM 返回的不是最终答案，而是一个 <code>tool_call</code>，系统就去执行它，然后把结果塞回去，让 LLM 继续“思考”。</p>
<h2 id="demo-快速验证" tabindex="-1">Demo 快速验证 <a class="header-anchor" href="#demo-快速验证" aria-label="Permalink to &quot;Demo 快速验证&quot;"></a></h2>
<p>我的逻辑很清晰：一个主函数，它负责调用 LLM。调用后，检查返回结果。</p>
<ul>
<li>如果结果是普通文本（最终答案），就返回它。</li>
<li>如果结果是 <code>tool_call</code>，就去执行工具，然后把工具结果和之前的对话历史“拼”在一起，<strong>递归调用</strong>自己。</li>
</ul>
<p>下面是一个简化的伪代码：</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SimpleAgent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> chat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> assistantResponse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">callLLM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(message)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (assistantResponse.hasToolCall) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> toolResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">callTool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(assistantResponse.toolCall) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 递归调用，将tool result作为新消息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">chat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(toolResult)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> assistantResponse.content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><p>为了快速验证我的想法，我让 Claude Code 基于 Plasmo 快速开发了一个侧边栏形式的 Browser Agent，效果如下：</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/068.png" alt="068" loading="lazy"></p>
<blockquote>
<p>这不是产品，只是 Demo。仅用于验证我自己所理解的 Loop。</p>
</blockquote>
<h2 id="我的感想" tabindex="-1">我的感想 <a class="header-anchor" href="#我的感想" aria-label="Permalink to &quot;我的感想&quot;"></a></h2>
<p>在做完这些事情以后，我豁然开朗。</p>
<p>Agent 的“自动执行”，其核心就是这个 <strong>“LLM 思考 -&gt; 工具执行 -&gt; 结果反馈 -&gt; LLM 再思考”</strong> 的循环。</p>
<p>当然，我这个实现非常简陋。一个工业级的 Agent 框架（比如 LangChain）要复杂得多，它们需要处理：</p>
<ol>
<li><strong>LLM 兼容</strong>：如何适配不同厂商（OpenAI, Anthropic, Google）的接口和 <code>tool_call</code> 格式。</li>
<li><strong>工具管理</strong>：如何动态注册、描述和安全地执行工具。</li>
<li><strong>记忆（Memory）</strong>：如何在循环中管理越来越长的对话历史，防止 Token 溢出。</li>
<li><strong>路由（Router）</strong>：当有上百个工具时，如何决定调用哪一个。</li>
</ol>
<p>但通过亲自动手，我总算摸清了 ReAct 架构的基本原理。这对于我后续的学习，算是打下了一个很好的基础吧。</p>
<p>（完）</p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/065.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[Claude Code Sub-agent 模式详解和实践]]></title>
            <link>https://stack.mcell.top/topics/ai/claude_code_sub_agent</link>
            <guid>https://stack.mcell.top/topics/ai/claude_code_sub_agent</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[深入解析Claude Code的Sub-agent子代理模式，学会创建专业化AI代理来提升代码生成、数据分析等复杂任务的效率和准确性。附完整实践教程和最佳实践。]]></description>
            <content:encoded><![CDATA[<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/021.webp" alt="021.webp" loading="lazy"></p>
<h1 id="claude-code-sub-agent-模式的详解和实践" tabindex="-1">Claude Code Sub-agent 模式的详解和实践 <a class="header-anchor" href="#claude-code-sub-agent-模式的详解和实践" aria-label="Permalink to &quot;Claude Code Sub-agent 模式的详解和实践&quot;"></a></h1>
<blockquote>
<p>这篇文章是一个实践教程，读完后，你将学会如何在 Claude Code 环境中，创建和使用这些 AI 代理，从而显著提升代码生成、数据分析等复杂任务的效率和准确性。</p>
</blockquote>
<p>在上一篇关于《<a href="https://stack.mcell.top/blog/prompt_engineering_getting_started_engineering_ai" target="_blank" rel="noreferrer">提示工程（Prompt Engineering）入门指南</a>》的文章中，我们探讨了如何与一个大型语言模型（LLM）高效对话。核心思想是把 AI 看作一个无所不包的“通才”，通过巧妙的指令引导它完成任务。</p>
<p>这种方法在许多场景下都很有用。但当任务变得复杂时，比如需要结合多种专业知识时，你会发现，让一个“通才”面面俱到，其实非常困难。它的回答常常会变得宽泛、不精确，甚至出现事实错误。</p>
<p>今天，我向大家介绍一种更先进、也更高效的 AI 使用模式：<strong>Sub-agent（子代理）</strong>。</p>
<p>这个概念来自 Anthropic 的官方文档，但请注意，它特指 <strong>Claude Code 这个开发工具中的一项功能</strong>。</p>
<h2 id="为什么-通才-不够用" tabindex="-1">为什么“通才”不够用？ <a class="header-anchor" href="#为什么-通才-不够用" aria-label="Permalink to &quot;为什么“通才”不够用？&quot;"></a></h2>
<p>让我们从一个具体的场景开始。假设你正在开发一个数据分析应用，需要一个 AI 助手来帮助用户。用户的需求可能是：</p>
<blockquote>
<p>“请帮我从公司的 PostgreSQL 数据库中，提取过去三个月的销售数据，然后用 JavaScript 的 Echarts 库画一个条形图，并分析销售趋势。”</p>
</blockquote>
<p>如果你把这段话直接扔给一个通用的 LLM，会发生什么？</p>
<p>最好的情况是，它能理解你的意-图，并一次性生成 SQL 查询语句和 JavaScript 可视化代码。但更常见的情况是：</p>
<ul>
<li><strong>SQL 方言错误</strong>：它可能生成了适用于 MySQL 的 SQL，而不是 PostgreSQL。</li>
<li><strong>库的使用过时</strong>：它使用了 Echarts 的旧版 API。</li>
<li><strong>分析流于表面</strong>：趋势分析部分只是几句空话，没有深度。</li>
</ul>
<p>根本原因在于，这个任务横跨了三个专业领域：<strong>数据库查询 (SQL)、数据可视化 (Echarts) 和业务分析</strong>。指望一个模型在所有领域都达到专家级水平，是不现实的。</p>
<p>Sub-agent 模式就是为了解决这个问题。</p>
<h2 id="sub-agent-的工作流程" tabindex="-1">Sub-agent 的工作流程 <a class="header-anchor" href="#sub-agent-的工作流程" aria-label="Permalink to &quot;Sub-agent 的工作流程&quot;"></a></h2>
<p>在 Claude Code 环境中，Sub-agent 的本质是预先定义好的、拥有特定“人格”和“技能”的 AI 助手。</p>
<p>这个流程包含两个核心角色：</p>
<ol>
<li>
<p><strong>主 AI (Claude Code)</strong>：它就像一个总指挥。当你下达一个模糊的指令时，它会分析这个任务，并判断是否应该把它交给某个更专业的“手下”。</p>
</li>
<li>
<p><strong>子代理（Sub-agent）</strong>：这些是各个领域的专家，比如“代码审查员”、“数据库专家”等。它们有自己的系统提示、独立的上下文记忆、甚至被授权使用不同的工具（比如读写文件、执行 shell 命令）。当总指挥把任务交给它时，它会“启动”并专注地完成这一项工作。</p>
</li>
</ol>
<p>总的来说，就是 Claude Code 这个主 AI，可以智能地调用或委托任务给一个个预先配置好的、更专业的“分身”。</p>
<h2 id="sub-agent-实现方式" tabindex="-1">Sub-agent 实现方式 <a class="header-anchor" href="#sub-agent-实现方式" aria-label="Permalink to &quot;Sub-agent 实现方式&quot;"></a></h2>
<p>在 Claude Code 中创建和使用子代理非常直观，它依赖于配置文件，而不是复杂的代码。主要有两种方式。</p>
<h3 id="方式一-使用-agents-命令-推荐" tabindex="-1">方式一：使用 <code>/agents</code> 命令（推荐） <a class="header-anchor" href="#方式一-使用-agents-命令-推荐" aria-label="Permalink to &quot;方式一：使用 `/agents` 命令（推荐）&quot;"></a></h3>
<p>最简单的方式，是在 Claude Code 的交互界面中，输入斜杠命令：</p>
<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">/agents</span></span></code></pre>
</div><p>这会弹出一个管理菜单，你可以根据引导，可视化地创建新的子代理，定义它的能力，并管理它可以使用的工具。对于新手来说，这是最不容易出错的方式。</p>
<h3 id="方式二-直接创建配置文件" tabindex="-1">方式二：直接创建配置文件 <a class="header-anchor" href="#方式二-直接创建配置文件" aria-label="Permalink to &quot;方式二：直接创建配置文件&quot;"></a></h3>
<p>子代理的本质，就是一个带有 YAML 头信息的 Markdown 文件。我们可以手动创建这些文件。</p>
<p>它们存放在两个地方：</p>
<ul>
<li><strong>项目级</strong>：<code>.claude/agents/</code> （仅在当前项目生效，优先级更高）</li>
<li><strong>用户级</strong>：<code>~/.claude/agents/</code> （在你的所有项目中都可用）</li>
</ul>
<p>一个子代理的配置文件结构如下：</p>
<div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">your-sub-agent-name</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">A natural language description of what this agent does and when it should be used.</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">tools</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">tool1, tool2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"> # 可选，允许该代理使用的工具</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">这里是这个子代理的系统提示（System Prompt）。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">你可以详细地描述它的角色、能力、行事风格和所有必须遵守的规则。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">写得越详细、越清晰，它被激活时表现得就越好。</span></span></code></pre>
</div><p>让我们以前文提到的“数据分析”任务为例，创建一个专门的 <code>echarts-expert</code> 子代理。</p>
<p>首先，在你的项目根目录下创建文件 <code>.claude/agents/echarts-expert.md</code>：</p>
<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> .claude/agents</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> .claude/agents/echarts-expert.md</span></span></code></pre>
</div><p>然后，编辑这个文件，写入以下内容：</p>
<div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">echarts-expert</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">Echarts 可视化专家。当用户需要使用 JavaScript 和 Echarts 库创建图表时，应使用此代理。</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">tools</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">Read, Write</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">你是一位数据可视化专家，尤其精通 Apache Echarts 库。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">你的任务是：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  接收用户提供的数据或数据结构。</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  编写高质量、可直接运行的 Echarts JavaScript 代码。</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  确保代码遵循 Echarts 的最新最佳实践。</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  代码中必须包含清晰的注释，解释 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">`option`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> 配置中的关键部分。</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">5.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  如果用户的数据不适合所选图表，要给出建议。</span></span></code></pre>
</div><p>这样，一个“Echarts 专家”就被创造出来了。同理，你还可以创建一个 <code>sql-expert</code>。</p>
<h3 id="如何使用子代理" tabindex="-1">如何使用子代理？ <a class="header-anchor" href="#如何使用子代理" aria-label="Permalink to &quot;如何使用子代理？&quot;"></a></h3>
<p>创建之后，有两种方式可以激活它：</p>
<ol>
<li>
<p><strong>自动委托</strong>：当你的指令和子代理的 <code>description</code> 字段高度匹配时，Claude Code 会自动调用它。比如，你直接说：“帮我用 Echarts 画个图”，它很可能就会激活我们刚刚创建的专家。</p>
</li>
<li>
<p><strong>显式调用</strong>：你也可以明确地“点名”，让某个专家来工作。</p>
<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span>> 让 echarts-expert 帮我把我最近的销售数据做成一个饼图。</span></span></code></pre>
</div></li>
</ol>
<h2 id="sub-agent-模式的优势" tabindex="-1">Sub-agent 模式的优势 <a class="header-anchor" href="#sub-agent-模式的优势" aria-label="Permalink to &quot;Sub-agent 模式的优势&quot;"></a></h2>
<p>理解了正确的实现方式后，我们再来看它的优势，会更加清晰。这些优势是基于 Claude Code 这个工具环境的。</p>
<ol>
<li>
<p><strong>上下文保护</strong>：这是最重要的优势。每个子代理在自己<strong>独立</strong>的上下文窗口中运行。这意味着，调用一个“SQL 专家”去处理复杂的数据库查询时，不会污染你主对话窗口中关于前端代码的上下文。这让你可以进行非常长、非常复杂的项目对话，而不会因为上下文混乱导致 AI 表现下降。</p>
</li>
<li>
<p><strong>专业知识</strong>：你可以为每个子代理编写非常详细、非常有针对性的系统提示。一个“代码审查员”的提示，可以包含函数命名、错误处理、安全漏洞等几十条规则。这种“专才”的成功率，远高于让一个“通才”临时抱佛脚。</p>
</li>
<li>
<p><strong>可重用性</strong>：你定义好的用户级子代理（存放在 <code>~/.claude/agents/</code> 中），可以在你的所有项目中复用。你可以打造一套自己专属的、强大的“专家团队”，随时调用。</p>
</li>
<li>
<p><strong>灵活的权限管理 (Flexible Permissions)</strong>：你可以精细地控制每个子代理能使用的工具。比如，只有“测试工程师”这个子代理才有权限执行 <code>Bash</code> 命令去跑测试，而一个“文档撰写员”可能只能读取（<code>Read</code>）文件。这带来了更高的安全性。</p>
</li>
</ol>
<h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;"></a></h2>
<p>从“提示工程”到“代理工程”（Agent Engineering），我们正在从“与 AI 对话”进化到“设计和指挥 AI 系统”。</p>
<p>Claude Code 的 Sub-agent 功能，就是这种进化的一个极佳范例。从这个角度来看，未来的强大 AI 工具，可能不是一个无所不知的“神”，而是一个高度可配置、可扩展的平台。我们开发者可以通过编写简单的配置文件，就像组建团队一样，创建出无数“工匠”和“专家”，让它们在一个统一的环境下高效协作。</p>
<p>这种思维的转变至关重要：我们的工作不再仅仅是写代码或写提示词，更是设计、编排和优化这些 AI 代理，让它们成为我们开发流程中真正可靠的一环。</p>
<p><strong>（完）</strong></p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/021.webp" length="0" type="image/webp"/>
        </item>
        <item>
            <title><![CDATA[长期以来我对 LLM 的误解]]></title>
            <link>https://stack.mcell.top/topics/ai/misunderstanding_llm</link>
            <guid>https://stack.mcell.top/topics/ai/misunderstanding_llm</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[深入探讨大语言模型（LLM）的工作原理，理解从传统规则编程到概率计算的范式转换，揭秘模型参数与智能的本质。]]></description>
            <content:encoded><![CDATA[<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/051.png" alt="051.png" loading="lazy"></p>
<h1 id="长期以来我对-llm-的误解" tabindex="-1">长期以来我对 LLM 的误解 <a class="header-anchor" href="#长期以来我对-llm-的误解" aria-label="Permalink to &quot;长期以来我对 LLM 的误解&quot;"></a></h1>
<p>大家好，我是 mCell。</p>
<p>最近半年，我一直在折腾各种大语言模型（LLM），从 GPT 到 Gemini，再到国产的 DeepSeek、Qwen。我用它们当搜索引擎、写代码、甚至帮我完成期末作业的实验报告。作为一个开发者，我一直在思考一个问题：这东西的底层到底是怎么工作的？</p>
<h2 id="一个朴素的疑问" tabindex="-1">一个朴素的疑问 <a class="header-anchor" href="#一个朴素的疑问" aria-label="Permalink to &quot;一个朴素的疑问&quot;"></a></h2>
<p>我的疑问很简单：<strong>LLM 说到底只是一堆代码，它怎么就能“理解”我说的话呢？</strong></p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/053.png" alt="053.png" loading="lazy"></p>
<p>按照我们传统程序员的思维，一个程序要实现特定功能，就需要明确的逻辑映射。比如，我们要写一个智能客服，代码可能是这样的：</p>
<div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> handle_query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(query):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    if</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "天气"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "今天"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> query:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> get_todays_weather()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    elif</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "你好"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "早上好"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> query:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "你好！有什么可以帮你的吗？"</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "抱歉，我听不懂你在说什么。"</span></span></code></pre>
</div><p>这种基于关键词和规则的方式，简单直接，但死板得像个石板。我们必须为每一种可能性预设好程序的分支。很多年前的手机助手，大抵就是这个逻辑。</p>
<p>但是，现在的 LLM 完全不同。我可以直接对它说“早上好”，它会像真人一样回复“早上好！今天又是元气满满的一天呢”，甚至可能还会根据上下文，附上一句“今天有什么安排吗？”。</p>
<p>我查看了那些开源模型的代码，并没有找到类似 <code>if query == &quot;早上好&quot;</code> 这样的特殊处理。谁说计算机没有黑魔法，这不就是魔法吗？</p>
<h2 id="ollama、7gb-文件和代码仓库" tabindex="-1">Ollama、7GB 文件和代码仓库 <a class="header-anchor" href="#ollama、7gb-文件和代码仓库" aria-label="Permalink to &quot;Ollama、7GB 文件和代码仓库&quot;"></a></h2>
<p>我最开始接触本地化运行大模型，是从 <code>ollama</code> 开始的。它的确非常方便，一条命令就能把模型跑起来：</p>
<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ollama</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> qwen:7b</span></span></code></pre>
</div><p>执行这条命令后，最让我印象深刻的是下载过程。一个 <code>qwen:7b</code> 模型，下载的文件体积动辄 7GB、14GB。</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/052.png" alt="052.png" loading="lazy"></p>
<p>这让我非常困惑。我去 GitHub 上看 Qwen 的<a href="https://github.com/QwenLM/Qwen" target="_blank" rel="noreferrer">官方仓库</a>，把整个项目克隆下来，所有 Python 代码加起来也不过几十 MB。</p>
<p><strong>7GB 的庞然大物，和几十 MB 的代码，这两者是什么关系？</strong></p>
<p>一开始我以为，它是不是像传统软件一样，附带了一个巨大的数据库？运行的时候，代码从这个数据库里检索信息？但这个猜测很快被我自己推翻了，我逐渐了解到 LLM 的回答是生成式的，而不是检索式的。它可以创造出全新的、数据库里根本不存在的句子。</p>
<p>很长一段时间，我都错误地认为那些代码本身通过某种我无法理解的复杂算法实现了“智能”。直到最近，我才恍然大悟：<strong>我一直忽略了模型真正的核心——参数。</strong></p>
<h2 id="被下载的不是-数据-而是-大脑" tabindex="-1">被下载的不是“数据”，而是“大脑” <a class="header-anchor" href="#被下载的不是-数据-而是-大脑" aria-label="Permalink to &quot;被下载的不是“数据”，而是“大脑”&quot;"></a></h2>
<p>现在我可以回答我自己的问题了。</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/054.png" alt="054.png" loading="lazy"></p>
<p>GitHub 上的代码，是 LLM 的 <strong>“骨架”<strong>或者说</strong>“引擎”</strong> 。它定义了一个叫做“Transformer”的神经网络结构，并规定了数据（也就是我们的文字）如何在其中流动和计算。它本身是“空”的，没有任何知识。</p>
<p>而我们通过 <code>ollama</code> 下载的那个 7GB 的文件，才是 LLM 的 <strong>“大脑”<strong>和</strong>“灵魂”</strong> 。它的官方名字叫做 <strong>模型参数（Parameters）<strong>或</strong>模型权重（Weights）</strong>。</p>
<p>这个文件里存储的是数十亿（7B 就是 70 亿）个经过训练优化的浮点数。这些数字，就是模型从数万亿单词的语料库中学习到的所有知识的浓缩和结晶。</p>
<p>这个学习过程被称为 <strong>“训练”</strong> 。你可以把它想象成一个极其复杂的拟合过程。模型看到“天空是”这句话，它被要求预测下一个词。它一开始会瞎猜，比如猜“绿色的”。然后我们告诉它，标准答案是“蓝色的”。它就会微调内部那 70 亿个参数，让自己下一次遇到类似情况时，猜出“蓝色的”概率高一点点。</p>
<p>这个过程重复数万亿次之后，模型内部的参数就形成了一种极其微妙的平衡。它不再是简单地记忆，而是学会了语法、逻辑、事实，甚至是某种程度上的“推理”能力。</p>
<p>所以，当我们输入“早上好”时，整个流程是这样的：</p>
<ol>
<li><strong>输入处理</strong>：推理代码（骨架）首先将“早上好”这三个汉字，通过一个叫做 Tokenizer 的工具，转换成一串数字 ID（比如 <code>[234, 567, 890]</code>）。</li>
<li><strong>矩阵运算</strong>：这串数字被输入到模型网络中，与那 7GB 文件里的 70 亿个参数进行一系列大规模的矩阵乘法运算。</li>
<li><strong>概率输出</strong>：运算的结果，是模型预测出的词汇表里每一个词在当前位置出现的概率。比如，“！”的概率可能是 30%，“今”的概率可能是 20%，“你”的概率可能是 15%……</li>
<li><strong>文本生成</strong>：代码根据这些概率，选择一个词（通常是概率最高的那个）作为输出，然后把这个新生成的词再作为新的输入，重复上述过程，直到生成完整的句子。</li>
</ol>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/055.png" alt="055.png" loading="lazy"></p>
<p>整个过程，没有一行 <code>if-else</code> 来判断用户意图，全都是冰冷的、确定性的数学计算。所谓的“智能”和“理解”，就蕴含在那 70 亿个参数构成的复杂函数之中。</p>
<h2 id="从规则到概率的飞跃" tabindex="-1">从规则到概率的飞跃 <a class="header-anchor" href="#从规则到概率的飞跃" aria-label="Permalink to &quot;从规则到概率的飞跃&quot;"></a></h2>
<p>想通了这一点，我有一种豁然开朗的感觉。</p>
<p>我们正处在一个范式转换的时代。传统的编程思维是<strong>基于规则的、确定性的</strong>。我们告诉计算机每一步该做什么。而 LLM 的思维是<strong>基于概率的、涌现性的</strong>。我们构建一个能够学习的框架，然后用海量数据“喂养”它，让“智能”从中自然“涌现”出来。</p>
<p>这或许就是为什么 LLM 能处理如此复杂和模糊的人类语言的原因。因为语言本身，在很多时候就不是一个严格的逻辑系统，而是一个充满了习惯、文化和上下文的概率系统。</p>
<p>所以，LLM 不是一个装满了数据的“超级数据库”，它是一个学会了语言规律的“概率计算引擎”。它的代码是骨架，而巨大的参数文件，才是它智慧的真正载体。</p>
<p><strong>参考链接：</strong></p>
<ol>
<li><a href="http://jalammar.github.io/illustrated-transformer/" target="_blank" rel="noreferrer">The Illustrated Transformer</a> (一篇非常经典的图解 Transformer 的文章)</li>
<li><a href="https://ollama.com/" target="_blank" rel="noreferrer">Ollama 官方网站</a></li>
<li><a href="https://github.com/QwenLM/Qwen" target="_blank" rel="noreferrer">Qwen (通义千问) GitHub 仓库</a></li>
</ol>
<p>(完)</p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/051.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[提示工程（Prompt Engineering）入门指南 - 让AI懂你所想]]></title>
            <link>https://stack.mcell.top/topics/ai/prompt_engineering_getting_started</link>
            <guid>https://stack.mcell.top/topics/ai/prompt_engineering_getting_started</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[基于Claude Code官方文档提炼的最实用提示工程技巧。从基础的清晰指令、提供范例，到进阶的思考链、角色设定，全面提升AI交互效果和工作效率。]]></description>
            <content:encoded><![CDATA[<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/020.jpg" alt="020.jpg" loading="lazy"></p>
<h1 id="提示工程-prompt-engineering-入门指南" tabindex="-1">提示工程（Prompt Engineering）入门指南 <a class="header-anchor" href="#提示工程-prompt-engineering-入门指南" aria-label="Permalink to &quot;提示工程（Prompt Engineering）入门指南&quot;"></a></h1>
<blockquote>
<p>这篇指南是我从 <a href="https://docs.anthropic.com/zh-CN/docs/build-with-claude/prompt-engineering/overview" target="_blank" rel="noreferrer">Claude Code 官方文档</a> 中提炼出最核心的技巧，从基础的“清晰指令”和“提供范例”，到进阶的“思考链”和“角色设定”，帮助你将 AI 这个强大的工具，变成你工作流中不可或缺的伙伴。如果你想让 AI 真正懂你所想，这篇文章正是你需要的入门手册。</p>
</blockquote>
<p>最近一年，大语言模型（LLM）的发展，正在深刻地改变我们获取信息和创造内容的方式。无论是 Claude、GPT、Gemini 还是国内的各种模型，AI 已经成为许多人工作中不可或缺的伙伴。</p>
<p>但是，AI 的能力并非无限，它的表现好坏，直接取决于我们向它提出的问题和指令，也就是“提示词”（Prompt）。如何写出高质量的提示词，让 AI 更好地为我们服务？这就是“提示工程”（Prompt Engineering）这门新兴学问所研究的。</p>
<p>今天，我想系统地梳理一下 AI 公司 Anthropic（Claude 的开发者）官方文档里的一系列文章，将他们的最佳实践，总结成一份人人都能看懂的入门指南。</p>
<h2 id="基础原则-清晰、具体、有范例" tabindex="-1">基础原则：清晰、具体、有范例 <a class="header-anchor" href="#基础原则-清晰、具体、有范例" aria-label="Permalink to &quot;基础原则：清晰、具体、有范例&quot;"></a></h2>
<p>与 AI 沟通，最基本的要求就是清晰。你必须把它当成一个非常聪明、但极度缺乏背景知识、并且会严格按字面意思理解你话语的实习生。</p>
<h3 id="指令要直接明确" tabindex="-1">指令要直接明确 <a class="header-anchor" href="#指令要直接明确" aria-label="Permalink to &quot;指令要直接明确&quot;"></a></h3>
<p>避免使用模糊、口语化的表达。你需要明确告诉它“做什么”、“以什么格式”。</p>
<blockquote>
<p><strong>（不推荐）</strong></p>
<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span>总结一下这篇文章。</span></span></code></pre>
</div><p><em>(点评：总结成多长？要点是什么？给谁看？AI 不得不猜测你的意图。)</em></p>
</blockquote>
<blockquote>
<p><strong>（推荐）</strong></p>
<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span>请将以下文章总结成 5 个要点，每个要点不超过 30 个字，面向的读者是对这个领域不了解的初学者。</span></span>
<span class="line"><span>[此处附上文章内容]</span></span></code></pre>
</div></blockquote>
<h3 id="提供示例-few-shot-prompting" tabindex="-1">提供示例（Few-shot Prompting） <a class="header-anchor" href="#提供示例-few-shot-prompting" aria-label="Permalink to &quot;提供示例（Few-shot Prompting）&quot;"></a></h3>
<p>“Show, don't tell.”（展示，而非说教）。如果你需要 AI 完成特定格式或风格的任务，最好的方法就是给它一两个完整的范例。</p>
<blockquote>
<p><strong>（示例：提取 JSON 数据）</strong></p>
<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span>从以下文本中提取关键信息，并以 JSON 格式输出。请参考下面的示例。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&#x3C;example></span></span>
<span class="line"><span>文本: "张三的邮箱是 zhangsan@example.com，他的电话是 13800138000。"</span></span>
<span class="line"><span>JSON:</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>"name": "张三",</span></span>
<span class="line"><span>"email": "zhangsan@example.com",</span></span>
<span class="line"><span>"phone": "13800138000"</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&#x3C;/example></span></span>
<span class="line"><span></span></span>
<span class="line"><span>现在，请处理以下文本：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>"李四的电话是 13900139000，邮箱是 lisi@example.com。"</span></span></code></pre>
</div><p>AI 会很轻松地学会这个模式，并输出正确的 JSON。</p>
</blockquote>
<h3 id="使用-xml-标签构建结构" tabindex="-1">使用 XML 标签构建结构 <a class="header-anchor" href="#使用-xml-标签构建结构" aria-label="Permalink to &quot;使用 XML 标签构建结构&quot;"></a></h3>
<p>当你的提示词包含多个部分（比如，背景信息、示例文档、具体问题、格式要求）时，使用 XML 标签可以极大地帮助 AI 理解结构，避免混淆。</p>
<blockquote>
<p><strong>（示例：分析报告）</strong></p>
<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span>&#x3C;document></span></span>
<span class="line"><span>[这里放入一篇很长的分析报告...]</span></span>
<span class="line"><span>&#x3C;/document></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&#x3C;instructions></span></span>
<span class="line"><span>你是一位资深的行业分析师。请阅读上面的 &#x3C;document>，并回答以下问题：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1. 这份报告的核心结论是什么？</span></span>
<span class="line"><span>2. 报告中提到的主要风险有哪些？</span></span>
<span class="line"><span>3. 报告作者的语气是乐观还是悲观？请用文中的例子说明。</span></span>
<span class="line"><span>&#x3C;/instructions></span></span></code></pre>
</div><p>这种结构化的输入，远比把所有文字混在一起要有效。</p>
</blockquote>
<h2 id="进阶技巧-引导-ai-思考" tabindex="-1">进阶技巧：引导 AI 思考 <a class="header-anchor" href="#进阶技巧-引导-ai-思考" aria-label="Permalink to &quot;进阶技巧：引导 AI 思考&quot;"></a></h2>
<p>对于复杂的、需要推理的任务，仅仅给出清晰的指令是不够的。我们还需要引导 AI 的“思考过程”。</p>
<h3 id="设定角色-system-prompts" tabindex="-1">设定角色（System Prompts） <a class="header-anchor" href="#设定角色-system-prompts" aria-label="Permalink to &quot;设定角色（System Prompts）&quot;"></a></h3>
<p>在所有指令的最前面，你可以设置一个“系统提示”（System Prompt）。它用来定义 AI 在整个对话中应该扮演的角色、遵循的规则和风格。这就像是为 AI 设置了“出厂默认值”。</p>
<blockquote>
<p><strong>（示例：技术文章写作助手）</strong></p>
<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span>System: 你是一位专业的科技文章作者，你的写作风格简洁、严谨，擅长用类比来解释复杂的技术概念。在所有的回答中，请避免使用过于情绪化和口语化的词语。</span></span></code></pre>
</div><p>在这个 System Prompt 之后，你再提出的问题，AI 的回答都会遵循这个设定好的角色和风格。</p>
</blockquote>
<h3 id="任务分解与链式提示-chain-prompts" tabindex="-1">任务分解与链式提示（Chain Prompts） <a class="header-anchor" href="#任务分解与链式提示-chain-prompts" aria-label="Permalink to &quot;任务分解与链式提示（Chain Prompts）&quot;"></a></h3>
<p>不要指望 AI 一步到位地解决一个复杂问题。更可靠的方法是，将复杂任务分解成一系列更小的、连续的步骤，形成一个“提示链”。上一步的输出，可以作为下一步的输入。</p>
<blockquote>
<p><strong>（示例：市场分析报告流程）</strong></p>
<ol>
<li><strong>第一步（提取数据）</strong>：“请从这份财报中提取所有的关键财务指标，以 Markdown 表格形式呈现。”</li>
<li><strong>第二步（分析数据）</strong>：“根据上一步的表格，计算同比增长率和利润率，并分析其变化趋势。”</li>
<li><strong>第三步（生成摘要）</strong>：“综合以上分析，为公司 CEO 写一份不超过 200 字的摘要，重点说明公司的优势和潜在风险。”</li>
</ol>
</blockquote>
<h3 id="思考链-chain-of-thought" tabindex="-1">“思考链”（Chain of Thought） <a class="header-anchor" href="#思考链-chain-of-thought" aria-label="Permalink to &quot;“思考链”（Chain of Thought）&quot;"></a></h3>
<p>这是目前最强大的提示技巧之一。当你要求 AI 解决一个逻辑题或数学题时，不要直接让它给答案，而是<strong>要求它“一步步地思考”</strong>，并把思考过程写出来。</p>
<blockquote>
<p><strong>（示例：解决逻辑题）</strong></p>
<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span>问题：一个篮子里有苹果和香蕉，总共 20 个水果。苹果的数量是香蕉的 3 倍。</span></span>
<span class="line"><span>请问苹果和香蕉各有多少个？</span></span>
<span class="line"><span>请不要直接给出答案。请先一步步地列出你的思考过程，最后再给出结论。</span></span></code></pre>
</div><p>AI 可能会这样回答：</p>
<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span></span></span>
<span class="line"><span>好的，让我一步步来思考这个问题。</span></span>
<span class="line"><span>第一步：定义变量。设香蕉的数量为 x。</span></span>
<span class="line"><span>第二步：根据题意，苹果的数量是香蕉的 3 倍，所以苹果的数量是 3x。</span></span>
<span class="line"><span>第三步：水果总数是 20，所以可以列出方程：x + 3x = 20。</span></span>
<span class="line"><span>第四步：解方程。4x = 20，所以 x = 5。</span></span>
<span class="line"><span>第五步：计算苹果的数量。苹果数量是 3x，所以是 3 \* 5 = 15。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>结论：因此，篮子里有 5 个香蕉和 15 个苹果。</span></span></code></pre>
</div><p>这个过程不仅让答案更可靠，也让我们能够检查它的逻辑是否正确。</p>
</blockquote>
<h2 id="特定场景-处理长文本" tabindex="-1">特定场景：处理长文本 <a class="header-anchor" href="#特定场景-处理长文本" aria-label="Permalink to &quot;特定场景：处理长文本&quot;"></a></h2>
<p>现代 AI 已经可以处理非常长的上下文（比如一整本书或一份几百页的文档）。但在处理长文本时，也有一些技巧。</p>
<ul>
<li><strong>指令后置</strong>：将你的具体问题或指令，放在长篇文档的<strong>末尾</strong>。因为模型通常对输入内容的开头和结尾最“敏感”。</li>
<li><strong>先提问，后填充</strong>：你可以先构造好你的问题框架，然后再把长篇文档插入。例如：<code>“根据下面的文档，请回答 XXX 问题。[文档内容]”</code>。</li>
<li><strong>引导性提问</strong>：不要只让 AI “总结文档”，而应该就文档内容提出具体、有针对性的问题，引导它去阅读和分析你最关心的部分。</li>
</ul>
<h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;"></a></h2>
<p>提示工程不是什么神秘的魔法，它是一门关于如何“清晰、结构化地表达自己意图”的学问。</p>
<p>回顾一下，核心要点包括：</p>
<ul>
<li><strong>基础</strong>：指令清晰、提供范例、使用标签。</li>
<li><strong>进阶</strong>：设定角色、分解任务、引导思考过程。</li>
<li><strong>长文本</strong>：指令后置、引导性提问。</li>
</ul>
<p>AI 是我们思想的“放大器”，而提示工程就是控制这个放大器的操作手册。掌握它，你就能让这个强大的工具，发挥出远超想象的威力。</p>
<h2 id="参考链接" tabindex="-1">参考链接 <a class="header-anchor" href="#参考链接" aria-label="Permalink to &quot;参考链接&quot;"></a></h2>
<ul>
<li><a href="https://docs.anthropic.com/zh-CN/docs/build-with-claude/prompt-engineering" target="_blank" rel="noreferrer">Anthropic, Prompt Engineering</a></li>
<li><a href="https://docs.anthropic.com/zh-CN/docs/build-with-claude/prompt-engineering/system-prompts" target="_blank" rel="noreferrer">Anthropic, System Prompts</a></li>
<li><a href="https://docs.anthropic.com/zh-CN/docs/build-with-claude/prompt-engineering/chain-of-thought" target="_blank" rel="noreferrer">Anthropic, Chain of Thought Prompting</a></li>
</ul>
<p>（完）</p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/020.jpg" length="0" type="image/jpg"/>
        </item>
        <item>
            <title><![CDATA[Agents.md 是什么]]></title>
            <link>https://stack.mcell.top/topics/ai/what_is_agents_md</link>
            <guid>https://stack.mcell.top/topics/ai/what_is_agents_md</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[深入解析 AGENTS.md 文件在 AI 编程工具生态中的作用，了解它与 MCP 协议的区别，以及如何为 AI 代理提供结构化项目上下文。]]></description>
            <content:encoded><![CDATA[<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/056.png" alt="056.png" loading="lazy"></p>
<h1 id="agents-md-又是什么" tabindex="-1">Agents.md 又是什么 <a class="header-anchor" href="#agents-md-又是什么" aria-label="Permalink to &quot;Agents.md 又是什么&quot;"></a></h1>
<p>最近，如果你关注 AI 编程工具的生态，可能会注意到两个新名词频繁出现：<strong>MCP</strong> 和 <strong>Agents.md</strong>。</p>
<p>MCP（Model Context Protocol）是为大语言模型（LLM）提供标准化上下文接入方式的协议，类似于让 LLM 能“看懂”外部工具、数据源和环境的一种通用语言。它试图解决的问题是：<strong>如何让不同的 AI 工具以统一方式向模型提供上下文？</strong></p>
<p>而 Agents.md，则看起来更“朴素”——它只是一个 Markdown 文件，放在你的代码仓库根目录下，内容通常是：</p>
<div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold">## Setup commands</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Install deps: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">`pnpm install`</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Start dev server: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">`pnpm dev`</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Run tests: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">`pnpm test`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold">## Code style</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> TypeScript strict mode</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Single quotes, no semicolons</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Use functional patterns where possible</span></span></code></pre>
</div><p>乍一看，这不就是 README 的一部分吗？为什么还要单独搞一个 <code>AGENTS.md</code>？</p>
<h2 id="人类看-readme-agent-看-agents-md" tabindex="-1">人类看 README，Agent 看 AGENTS.md <a class="header-anchor" href="#人类看-readme-agent-看-agents-md" aria-label="Permalink to &quot;人类看 README，Agent 看 AGENTS.md&quot;"></a></h2>
<p>关键区别在于<strong>受众不同</strong>。</p>
<ul>
<li><strong>README.md</strong> 是写给人看的：项目简介、快速上手、贡献指南、社区链接……它追求简洁、友好、有吸引力。</li>
<li><strong>AGENTS.md</strong> 是写给 AI 编程代理（coding agent）看的：构建命令、测试流程、代码风格、依赖结构、CI 规则……它追求<strong>精确、可执行、无歧义</strong>。</li>
</ul>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/057.png" alt="057.png" loading="lazy"></p>
<p>举个例子：人类看到“请先安装依赖”就懂了；但 AI 代理需要明确知道是 <code>npm install</code>、<code>yarn install</code> 还是 <code>pnpm install</code>。一个错字，整个自动化流程就可能崩掉。</p>
<p>所以，AGENTS.md 的出现，不是为了取代 README，而是<strong>为 AI 代理提供一个专属的、结构化的操作手册</strong>。</p>
<h2 id="为什么不能直接用-claude-md" tabindex="-1">为什么不能直接用 CLAUDE.md？ <a class="header-anchor" href="#为什么不能直接用-claude-md" aria-label="Permalink to &quot;为什么不能直接用 CLAUDE.md？&quot;"></a></h2>
<p>确实，像 Claude Code Cli 这样的工具已经支持通过 <code>CLAUDE.md</code> 提供项目上下文。但这带来一个问题：<strong>碎片化</strong>。</p>
<ul>
<li>Claude 用 <code>CLAUDE.md</code></li>
<li>Cursor 可能用 <code>.cursor/config.md</code></li>
<li>GitHub Copilot 实验性功能可能用 <code>.github/copilot.md</code></li>
<li>你自研的 agent 又定义了自己的格式……</li>
</ul>
<p>每个工具一套规则，开发者疲于维护多个“上下文文件”，而项目仓库也变得杂乱。</p>
<p><strong>AGENTS.md 的野心，是成为一个开放、通用、无厂商锁定的标准</strong>——就像 <code>package.json</code> 之于 Node.js，<code>.gitignore</code> 之于 Git。</p>
<p>它不隶属于 OpenAI、Anthropic 或 Google，而是由社区共建（包括 OpenAI Codex、Cursor、Google Jules 等团队参与推动）。目前已有超过 <a href="https://github.com/search?q=path%3AAGENTS.md&amp;type=code" target="_blank" rel="noreferrer">41,000</a> 个开源项目采用。</p>
<h2 id="agents-md-和-mcp-互补而非竞争" tabindex="-1">AGENTS.md 和 MCP：互补而非竞争 <a class="header-anchor" href="#agents-md-和-mcp-互补而非竞争" aria-label="Permalink to &quot;AGENTS.md 和 MCP：互补而非竞争&quot;"></a></h2>
<p>你可能会问：既然有了 MCP 这种“协议级”标准，还需要 AGENTS.md 这种“文件级”约定吗？</p>
<p>答案是：<strong>它们在不同层次工作，互为补充</strong>。</p>
<ul>
<li><strong>MCP</strong> 是运行时协议：定义 AI 如何与工具、API、数据库等<strong>动态交互</strong>。比如 Github 提交一个 PR。</li>
<li><strong>AGENTS.md</strong> 是静态上下文：告诉 AI “在这个项目里，你应该怎么做事”。比如“用 pnpm 而不是 npm”、“测试命令是 <code>pnpm test</code>”。</li>
</ul>
<p>可以这样类比：</p>
<ul>
<li>MCP 是“操作系统 API”，让程序能调用硬件；</li>
<li>AGENTS.md 是“项目 README for machines”，让 AI 能理解项目约定。</li>
</ul>
<p>一个管“能力接入”，一个管“行为规范”。</p>
<h2 id="写-agents-md-其实是在-教-ai-做人" tabindex="-1">写 AGENTS.md，其实是在“教 AI 做人” <a class="header-anchor" href="#写-agents-md-其实是在-教-ai-做人" aria-label="Permalink to &quot;写 AGENTS.md，其实是在“教 AI 做人”&quot;"></a></h2>
<p>AGENTS.md 的真正价值，不在于技术实现，而在于<strong>把隐性知识显性化</strong>。</p>
<p>很多项目中，构建流程、测试策略、代码风格其实只存在于老员工的脑子里，或者散落在 CI 配置、PR 模板、Slack 聊天记录里。新人（无论是人类还是 AI）进来都要“踩坑学习”。</p>
<p>而 AGENTS.md 强制你把这些规则写下来，形成一份<strong>可被机器理解的契约</strong>。</p>
<p>更妙的是，它还能嵌套：在 monorepo 中，每个子包都可以有自己的 <code>AGENTS.md</code>，实现上下文隔离。</p>
<h2 id="未来-ai-时代的-项目规范" tabindex="-1">未来：AI 时代的“项目规范” <a class="header-anchor" href="#未来-ai-时代的-项目规范" aria-label="Permalink to &quot;未来：AI 时代的“项目规范”&quot;"></a></h2>
<p>AGENTS.md 的愿景，是成为每个代码仓库的“标配文件”——就像 LICENSE、README、package.json 一样自然。</p>
<p>它不炫技，不复杂，只是一个简单的 Markdown 文件。但正是这种简单，让它有可能被广泛采纳。</p>
<h2 id="结语" tabindex="-1">结语 <a class="header-anchor" href="#结语" aria-label="Permalink to &quot;结语&quot;"></a></h2>
<p>技术演进常常如此：先有混乱的实践，再有统一的规范。</p>
<p>MCP 解决了“AI 如何连接世界”的问题，<br>
AGENTS.md 则解决“AI 如何理解你的项目”的问题。</p>
<p>一个向外连接，一个向内约定。</p>
<p>当这两个方向都逐渐标准化，AI 编程代理才能真正从“玩具工程”变成“生产力工具”。</p>
<p>而作为开发者，我们能做的，就是在你的下一个有 AI 参与开发的项目里，加一个 <code>AGENTS.md</code>。</p>
<p>不需要多复杂，只要写清楚三件事：</p>
<ol>
<li>怎么跑起来？</li>
<li>怎么测正确？</li>
<li>代码怎么写？</li>
</ol>
<p>这就够了。</p>
<blockquote>
<p><strong>附：AGENTS.md 示例模板</strong></p>
<div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold"># AGENTS.md</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold">## Setup</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Install: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">`pnpm install`</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Dev: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">`pnpm dev`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold">## Testing</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Run all tests: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">`pnpm test`</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Lint: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">`pnpm lint`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold">## Code Style</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> TypeScript with strict mode</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Single quotes, no semicolons</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Prefer functional over class-based components</span></span></code></pre>
</div></blockquote>
<p>（完）</p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/056.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[ECharts 万字入门指南]]></title>
            <link>https://stack.mcell.top/topics/client/echarts_getting_started_guide</link>
            <guid>https://stack.mcell.top/topics/client/echarts_getting_started_guide</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[详细学习 Apache ECharts 图表库，掌握丰富的图表类型、强大的交互功能和灵活的配置项，实现数据可视化。]]></description>
            <content:encoded><![CDATA[<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/039.png" alt="039.png" loading="lazy"></p>
<h1 id="echarts-万字入门指南" tabindex="-1">ECharts 万字入门指南 <a class="header-anchor" href="#echarts-万字入门指南" aria-label="Permalink to &quot;ECharts 万字入门指南&quot;"></a></h1>
<blockquote>
<p>本文将作为你的 ECharts 入门指南，带你系统性地梳理 ECharts 的核心知识体系，并通过一个贴近实际业务的“高三期末考试成绩分析”案例，手把手教你如何将数据转化为富有洞察力的图表。</p>
</blockquote>
<p>前端，本质上就是把数据可视化的技术。如何将枯燥的数据，以一种更直观、更易于理解的方式呈现给用户，始终是一个重要的课题。</p>
<p>图表，无疑是这个问题的最佳答案之一。</p>
<p>小到健康 App 中记录一周睡眠变化的柱状图，大到金融应用的实时股票仪表板，图表作为一种强大的视觉语言，其传递信息的效率远超纯粹的文字或表格。它能帮助我们快速发现数据中的模式、趋势和异常点。</p>
<p>在众多选择中，<a href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noreferrer">Apache ECharts</a> 无疑是当下最闪耀的产品之一。凭借其丰富的图表类型、强大的交互功能、灵活的配置项以及活跃的社区，成为了全球前端开发者的首选。</p>
<p>然而，和 <a href="https://stack.mcell.top/topics/client/gsap_getting_started_guide" target="_blank" rel="noreferrer">GSAP 动画库</a> 一样，很多人对 ECharts 的第一印象是“配置项繁多”、“学习曲线陡峭”。但事实果真如此吗？</p>
<p>当我们静下心来，深入探索 ECharts 的世界，会发现其核心概念并不复杂。万变不离其宗，所有的图表配置，都围绕着一些固定的核心模块展开：<strong>容器与大小、样式、数据集、坐标轴、视觉映射、图例</strong>等等。</p>
<p>ECharts 官网提供了海量的<a href="https://echarts.apache.org/examples/zh/index.html" target="_blank" rel="noreferrer">示例</a>，几乎涵盖了你能想到的所有图表效果。甚至，它的<a href="https://echarts.apache.org/zh/option.html" target="_blank" rel="noreferrer">配置项文档</a>本身就是可交互的——你可以一边修改配置，一边实时预览效果。这极大地降低了学习门槛。</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/043.png" alt="043.png" loading="lazy"></p>
<h2 id="echarts-初体验-绘制你的第一个图表" tabindex="-1">ECharts 初体验：绘制你的第一个图表 <a class="header-anchor" href="#echarts-初体验-绘制你的第一个图表" aria-label="Permalink to &quot;ECharts 初体验：绘制你的第一个图表&quot;"></a></h2>
<p>学习任何一门技术的最好方式，就是从一个“Hello World”开始。</p>
<h3 id="引入方式" tabindex="-1">引入方式 <a class="header-anchor" href="#引入方式" aria-label="Permalink to &quot;引入方式&quot;"></a></h3>
<p>我们将使用最简单的方式：通过 CDN 引入。你只需要在 HTML 文件中加入一个 <code>&lt;script&gt;</code> 标签即可。这种方式无需构建工具，非常适合快速原型开发和学习。</p>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div><h3 id="完整示例" tabindex="-1">完整示例 <a class="header-anchor" href="#完整示例" aria-label="Permalink to &quot;完整示例&quot;"></a></h3>
<p>将下面的代码完整复制到一个 HTML 文件中，然后用浏览器打开它，你就能看到你的第一个 ECharts 图表了。</p>
<details class="details custom-block"><summary>完整示例</summary>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"utf-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>ECharts 入门示例&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"main"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"width: 600px;height:400px;"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"text/javascript"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // 3. 基于准备好的dom，初始化echarts实例</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> myChart </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> echarts.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"main"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // 4. 指定图表的配置项和数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> option </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        // 标题</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        title: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"我的第一个 ECharts 图表"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        // 提示框</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        tooltip: {},</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        // X 轴</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        xAxis: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          data: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"衬衫"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"羊毛衫"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"雪纺衫"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"裤子"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"高跟鞋"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"袜子"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        // Y 轴</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        yAxis: {},</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        // 系列（系列决定了图表类型和数据）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        series: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"销量"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 'bar' 表示这是一个柱状图</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // 5. 使用刚指定的配置项和数据显示图表。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      myChart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">setOption</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(option)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div></details>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/044.png" alt="044.png" loading="lazy"></p>
<p>这个简单的例子，已经揭示了 ECharts 的核心工作流程：<strong>引入脚本 -&gt; 准备容器 -&gt; 初始化实例 -&gt; 设置配置项</strong>。而所有 ECharts 图表的实现，都蕴含在那个巨大的 <code>option</code> 对象中。</p>
<h2 id="核心概念解析-解构-option-对象" tabindex="-1">核心概念解析：解构 <code>option</code> 对象 <a class="header-anchor" href="#核心概念解析-解构-option-对象" aria-label="Permalink to &quot;核心概念解析：解构 `option` 对象&quot;"></a></h2>
<p>ECharts 的 <code>option</code> 对象是一个庞大而复杂的 JavaScript 对象，<code>option</code> 描述了图表的一切：数据、样式、交互、动画等等。理解了它的核心构成，就等于掌握了 ECharts 的精髓。</p>
<p>让我们像剥洋葱一样，一层一层地解析 <code>option</code> 的核心组件。</p>
<h3 id="series-系列与图表类型" tabindex="-1"><code>series</code>：系列与图表类型 <a class="header-anchor" href="#series-系列与图表类型" aria-label="Permalink to &quot;`series`：系列与图表类型&quot;"></a></h3>
<p><code>series</code> 是 ECharts 中最重要的配置项，没有之一。它是一个数组，数组中的每一个对象都代表一个“系列”。</p>
<p><strong>什么是“系列”？</strong></p>
<p>你可以把它理解为一组相关的数据，以及这组数据如何被可视化的规则。一个图表中可以包含多个系列，每个系列会按照自己的规则（即 <code>type</code>）绘制成图。</p>
<p>比如，在上面的例子中：</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">series</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"销量"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 图表类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    data: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 系列数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span></code></pre>
</div><ul>
<li><code>type: 'bar'</code> 告诉 ECharts，这个系列要绘制成柱状图。</li>
<li><code>data: [...]</code> 提供了这组柱状图的具体数值。</li>
</ul>
<p>如果我想在同一个图表中，再增加一条折线图来表示“产量”，只需要在 <code>series</code> 数组中再增加一个对象即可。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">series</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"销量"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    data: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"产量"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"line"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 图表类型为折线图</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    data: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span></code></pre>
</div><p>ECharts 支持的<a href="https://www.google.com/search?q=https://echarts.apache.org/zh/option.html%23series" target="_blank" rel="noreferrer">图表类型</a>非常丰富，常见的有：</p>
<ul>
<li><code>line</code>: 折线图</li>
<li><code>bar</code>: 柱状图</li>
<li><code>pie</code>: 饼图</li>
<li><code>scatter</code>: 散点图</li>
<li><code>radar</code>: 雷达图</li>
<li><code>map</code>: 地图</li>
<li><code>tree</code>: 树图</li>
<li><code>graph</code>: 关系图</li>
<li>...等等</li>
</ul>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/049.png" alt="049.png" loading="lazy"></p>
<p><code>series</code> 的强大之处在于，它不仅定义了图表的“形”，更承载了图表的“魂”——数据。</p>
<h3 id="xaxis-yaxis-坐标轴" tabindex="-1"><code>xAxis</code> &amp; <code>yAxis</code>：坐标轴 <a class="header-anchor" href="#xaxis-yaxis-坐标轴" aria-label="Permalink to &quot;`xAxis` &amp; `yAxis`：坐标轴&quot;"></a></h3>
<p>对于绝大多数图表（如折线图、柱状图、散点图），坐标轴是必不可少的。ECharts 通过 <code>xAxis</code> (X 轴) 和 <code>yAxis</code> (Y 轴) 来进行配置。它们通常成对出现，共同定义了一个<strong>直角坐标系 (Grid)</strong>。</p>
<p>坐标轴主要由<strong>轴线、刻度、刻度标签、轴名称</strong>等部分组成。</p>
<p>一个常见的 <code>xAxis</code> 配置如下：</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">xAxis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'category'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 坐标轴类型</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'一月'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'二月'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'三月'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'四月'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'五月'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 类目数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'月份'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 轴名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  axisLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: { </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 显示轴线</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  axisTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: { </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 显示刻度</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  axisLabel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'#333'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    fontSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">12</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  } </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 刻度标签样式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/050.png" alt="050.png" loading="lazy"></p>
<p>坐标轴的 <code>type</code> 是一个关键属性，它决定了坐标轴如何解析数据：</p>
<ul>
<li><code>'value'</code>: <strong>数值轴</strong>。适用于连续数据，会自动根据 <code>series.data</code> 的最大最小值来生成刻度。</li>
<li><code>'category'</code>: <strong>类目轴</strong>。适用于离散的类目数据，类目数据需要通过 <code>xAxis.data</code> 来指定。</li>
<li><code>'time'</code>: <strong>时间轴</strong>。适用于连续的时序数据，能自动格式化时间标签。</li>
<li><code>'log'</code>: <strong>对数轴</strong>。适用于数据跨度非常大的情况。</li>
</ul>
<p><code>yAxis</code> 的配置与 <code>xAxis</code> 类似。在一个图表中，可以有多个 X 轴和 Y 轴，通过 <code>xAxisIndex</code> 和 <code>yAxisIndex</code> 来关联 <code>series</code>。</p>
<h3 id="grid-绘图网格" tabindex="-1"><code>grid</code>：绘图网格 <a class="header-anchor" href="#grid-绘图网格" aria-label="Permalink to &quot;`grid`：绘图网格&quot;"></a></h3>
<p><code>grid</code> 组件定义了直角坐标系在图表容器中的位置和大小。当你想调整图表主体部分（不包括标题、图例等）的位置时，就需要配置它。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">grid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'3%'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 网格区域离容器左侧的距离</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'4%'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  bottom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'3%'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'10%'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  containLabel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"> // 防止标签溢出</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><p><code>containLabel: true</code> 是一个非常实用的配置，它会自动计算坐标轴标签的宽度，并调整 <code>grid</code> 的位置，以确保标签能够完整显示。</p>
<h3 id="title-标题" tabindex="-1"><code>title</code>：标题 <a class="header-anchor" href="#title-标题" aria-label="Permalink to &quot;`title`：标题&quot;"></a></h3>
<p>一个图表应该有一个明确的标题。<code>title</code> 组件用于配置主标题和副标题。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'网站月度访问量'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 主标题</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  subtext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'数据来源：模拟数据'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 副标题</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'center'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 标题水平居中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  textStyle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'#c23531'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    fontSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><h3 id="tooltip-提示框" tabindex="-1"><code>tooltip</code>：提示框 <a class="header-anchor" href="#tooltip-提示框" aria-label="Permalink to &quot;`tooltip`：提示框&quot;"></a></h3>
<p>当鼠标悬浮到图表的数据项上时，<code>tooltip</code> 组件可以显示详细的数据信息，这是图表交互的重要一环。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">tooltip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  trigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'axis'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 触发类型</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  axisPointer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 坐标轴指示器配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'shadow'</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"> // 默认为直线，可选为：'line' | 'shadow' | 'cross'</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><p><code>trigger</code> 属性决定了提示框的触发方式：</p>
<ul>
<li><code>'item'</code>: 数据项触发。鼠标悬浮到单个数据项（如柱状图的某个柱子、饼图的某个扇区）时触发。</li>
<li><code>'axis'</code>: 坐标轴触发。鼠标悬浮到坐标轴的某个刻度上时，会同时显示该刻度下所有系列的数据。常用于折线图和柱状图。</li>
<li><code>'none'</code>: 不触发。</li>
</ul>
<p>你可以通过 <code>formatter</code> 函数来自定义提示框显示的内容，支持 HTML 字符串和回调函数，给予了极高的灵活度。</p>
<h3 id="legend-图例" tabindex="-1"><code>legend</code>：图例 <a class="header-anchor" href="#legend-图例" aria-label="Permalink to &quot;`legend`：图例&quot;"></a></h3>
<p>当图表包含多个系列时，<code>legend</code> (图例) 组件用于区分不同的系列。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">legend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'销量'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'产量'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 图例项的名称，需要与 series 的 name 对应</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'bottom'</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"> // 图例位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><p><code>legend</code> 和 <code>series</code> 是通过 <code>name</code> 属性关联的。点击图例项，可以控制对应系列的显示和隐藏，这是 ECharts 内置的交互行为。</p>
<h3 id="dataset-数据集" tabindex="-1"><code>dataset</code>：数据集 <a class="header-anchor" href="#dataset-数据集" aria-label="Permalink to &quot;`dataset`：数据集&quot;"></a></h3>
<p>从 ECharts 4 开始，引入了 <code>dataset</code> 组件，这是一个非常重要的概念，它实现了<strong>数据与配置的分离</strong>。</p>
<p>在之前的例子中，我们的数据是直接写在 <code>series.data</code> 里的。当数据量较大，或者多个系列需要共用同一份数据时，这种方式就显得很臃肿。</p>
<p><code>dataset</code> 允许我们统一定义数据源，然后在 <code>series</code> 中通过 <code>encode</code> 来映射数据。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> option </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  dataset: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">    // 提供一份数据。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    source: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"product"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"2015"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"2016"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"2017"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"Matcha Latte"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">43.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">85.8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">93.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"Milk Tea"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">83.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">73.4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">55.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"Cheese Cocoa"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">86.4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">65.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">82.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"Walnut Brownie"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">72.4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">53.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">39.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // 声明一个 X 轴，类目轴（category）。默认情况下，类目轴对应到 dataset 第一列。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  xAxis: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"category"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // 声明一个 Y 轴，数值轴。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  yAxis: {},</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // 声明多个 series。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  series: [{ type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }, { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }, { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><p>在这个例子中，<code>dataset.source</code> 定义了一个二维数组。ECharts 会默认将第一行/第一列作为维度（dimension）。<code>series</code> 中甚至不需要写 <code>data</code>，ECharts 会自动从 <code>dataset</code> 中取数据。第一列 <code>product</code> 映射到 <code>xAxis</code>，后续的 '2015', '2016', '2017' 三列数据，依次映射到三个 <code>series</code>。</p>
<p>使用 <code>dataset</code> 的好处是：</p>
<ol>
<li><strong>数据复用</strong>：一份数据可以被多个系列、多个组件（如 <code>visualMap</code>）使用。</li>
<li><strong>数据转换</strong>：可以配合 <code>data-transform</code> 对数据进行筛选、聚合等预处理。</li>
<li><strong>代码清晰</strong>：将数据逻辑和样式配置分离开，更易于维护。</li>
</ol>
<p>强烈推荐在开发中优先使用 <code>dataset</code> 来管理数据。</p>
<h2 id="实战-高三年级期末考试多维分析" tabindex="-1">实战：高三年级期末考试多维分析 <a class="header-anchor" href="#实战-高三年级期末考试多维分析" aria-label="Permalink to &quot;实战：高三年级期末考试多维分析&quot;"></a></h2>
<p>理论知识总是枯燥的，让我们通过一个综合案例，将前面学到的知识点串联起来。</p>
<p><strong>背景</strong>：假设我们是某高中的数据分析师，拿到了一份高三年级本次期末考试的成绩单。我们需要通过数据可视化的方式，从多个维度对这次考试进行分析，为教学工作提供数据支持。</p>
<p><strong>数据维度</strong>：班级、学生姓名、各科成绩（语文、数学、英语、物理、化学、生物）、总分。</p>
<h3 id="场景一-各班级平均总分对比-柱状图" tabindex="-1">场景一：各班级平均总分对比（柱状图） <a class="header-anchor" href="#场景一-各班级平均总分对比-柱状图" aria-label="Permalink to &quot;场景一：各班级平均总分对比（柱状图）&quot;"></a></h3>
<p><strong>分析目标</strong>：直观对比各个班级的平均总分，了解班级间的整体学习水平差异。</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/045.png" alt="045.png" loading="lazy"></p>
<details class="details custom-block"><summary>完整代码</summary>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"utf-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>场景一：各班级平均总分对比&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar-chart"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"width: 100%; height: 500px;"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"text/javascript"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // --- 数据准备 ---</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generateMockData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(1)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(2)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(3)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(4)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(5)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(6)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> subjects</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"语文"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"数学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"英语"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"物理"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"化学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"生物"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> studentsPerClass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 50</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> studentId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        classes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">className</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> studentsPerClass; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { 班级: className, 姓名: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`学生${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">studentId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> totalScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            subjects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">              const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              student[subject] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> score</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              totalScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> score</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"总分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> totalScore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(student)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            studentId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> examData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generateMockData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> calculateClassAverage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> classScores</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"班级"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">classScores[className]) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            classScores[className] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { total: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          classScores[className].total </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"总分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          classScores[className].count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> averageData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(classScores).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">className</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          className: className,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">          averageScore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            classScores[className].total </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> classScores[className].count</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          ).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">toFixed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        }))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        averageData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">sort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> b.averageScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> a.averageScore)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> averageData</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> classAverageData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> calculateClassAverage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(examData)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // --- ECharts 配置 ---</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> barChart </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> echarts.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar-chart"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> barChartOption </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        title: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"高三各班级期末考试平均总分对比"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          left: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"center"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        tooltip: { trigger: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"axis"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, axisPointer: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"shadow"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        grid: { left: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"3%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, right: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"4%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, bottom: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"3%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, containLabel: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        xAxis: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"category"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          data: classAverageData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> item.className),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          axisLabel: { interval: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, rotate: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        yAxis: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"value"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"平均分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        series: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"平均总分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bar"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            barWidth: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"60%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data: classAverageData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> item.averageScore),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            itemStyle: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              color: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> echarts.graphic.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">LinearGradient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                { offset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"#83bff6"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                { offset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"#188df0"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                { offset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"#188df0"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              ]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            emphasis: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              itemStyle: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                color: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> echarts.graphic.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">LinearGradient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                  { offset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"#2378f7"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                  { offset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"#2378f7"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                  { offset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"#83bff6"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                ]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            label: { show: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, position: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"top"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      barChart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">setOption</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(barChartOption)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div></details>
<p>通过这个柱状图，我们可以一目了然地看出哪个班级的平均成绩最高，哪个最低。</p>
<h3 id="场景二-单科成绩分布情况-饼图-玫瑰图" tabindex="-1">场景二：单科成绩分布情况（饼图 &amp; 玫瑰图） <a class="header-anchor" href="#场景二-单科成绩分布情况-饼图-玫瑰图" aria-label="Permalink to &quot;场景二：单科成绩分布情况（饼图 &amp; 玫瑰图）&quot;"></a></h3>
<p><strong>分析目标</strong>：以高三(1)班为例，分析数学单科成绩的分布情况（如：优秀、良好、及格、不及格）。</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/046.png" alt="046.png" loading="lazy"></p>
<details class="details custom-block"><summary>完整代码</summary>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"utf-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>场景二：单科成绩分布&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"pie-chart"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"width: 100%; height: 500px;"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"text/javascript"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // --- 数据准备 (复用上面的 generateMockData) ---</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generateMockData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        /* ... 同上 ... */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(1)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(2)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(3)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(4)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(5)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(6)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> subjects</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"语文"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"数学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"英语"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"物理"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"化学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"生物"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> studentsPerClass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 50</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> studentId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        classes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">className</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> studentsPerClass; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { 班级: className, 姓名: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`学生${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">studentId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> totalScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            subjects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">              const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              student[subject] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> score</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              totalScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> score</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"总分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> totalScore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(student)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            studentId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> examData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generateMockData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> analyzeSubjectDistribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">className</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> classData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"班级"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> className</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        )</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> distribution</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "优秀 (120+)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "良好 (100-119)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "及格 (90-99)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "不及格 (&#x3C;90)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        classData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student[subject]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 120</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) distribution[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"优秀 (120+)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) distribution[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"良好 (100-119)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) distribution[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"及格 (90-99)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> distribution[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"不及格 (&#x3C;90)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(distribution).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          name: level,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          value: distribution[level],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        }))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> mathDistributionData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> analyzeSubjectDistribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        examData,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        "高三(1)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        "数学"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // --- ECharts 配置 ---</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> pieChart </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> echarts.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"pie-chart"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> pieChartOption </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        title: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"高三(1)班数学成绩分布"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          subtext: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"期末考试"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          left: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"center"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        tooltip: { trigger: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"item"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, formatter: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"{a} &#x3C;br/>{b} : {c}人 ({d}%)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        legend: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          orient: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"vertical"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          left: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"left"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          data: mathDistributionData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> item.name),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        series: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"成绩分布"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"pie"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            radius: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"50%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            center: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"50%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"60%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data: mathDistributionData,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">            // 可选：将 type: 'pie' 改为南丁格尔玫瑰图，视觉效果更强</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">            // roseType: 'area',</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            emphasis: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              itemStyle: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                shadowBlur: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                shadowOffsetX: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">                shadowColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"rgba(0, 0, 0, 0.5)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      pieChart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">setOption</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(pieChartOption)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div></details>
<p>饼图清晰地展示了各个分数段的人数占比。如果将 <code>series.roseType</code> 设置为 <code>'area'</code>，它会变成一个南丁格尔玫瑰图，扇区的半径会根据数据大小进行调整，视觉冲击力更强。</p>
<h3 id="场景三-理科综合成绩关联性分析-散点图" tabindex="-1">场景三：理科综合成绩关联性分析（散点图） <a class="header-anchor" href="#场景三-理科综合成绩关联性分析-散点图" aria-label="Permalink to &quot;场景三：理科综合成绩关联性分析（散点图）&quot;"></a></h3>
<p><strong>分析目标</strong>：探究学生的物理成绩和化学成绩之间是否存在关联性。比如，是不是物理好的学生，化学也普遍不错？</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/047.png" alt="047.png" loading="lazy"></p>
<details class="details custom-block"><summary>完整代码</summary>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"utf-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>场景三：理科综合成绩关联性分析&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"scatter-chart"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"width: 100%; height: 500px;"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"text/javascript"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // --- 数据准备 (复用上面的 generateMockData) ---</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generateMockData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        /* ... 同上 ... */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(1)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(2)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(3)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(4)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(5)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(6)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> subjects</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"语文"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"数学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"英语"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"物理"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"化学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"生物"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> studentsPerClass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 50</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> studentId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        classes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">className</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> studentsPerClass; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { 班级: className, 姓名: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`学生${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">studentId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> totalScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            subjects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">              const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              student[subject] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> score</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              totalScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> score</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"总分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> totalScore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(student)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            studentId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> examData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generateMockData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> getSubjectCorrelationData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">subjectX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">subjectY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        // 返回格式: [物理成绩, 化学成绩, 学生姓名, 班级]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          student[subjectX],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          student[subjectY],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"姓名"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"班级"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> correlationData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> getSubjectCorrelationData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        examData,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        "物理"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        "化学"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // --- ECharts 配置 ---</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scatterChart </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> echarts.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"scatter-chart"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scatterChartOption </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        title: { text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"高三年级物理-化学成绩关联性分析"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, left: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"center"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        grid: { left: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"3%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, right: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"7%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, bottom: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"3%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, containLabel: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        xAxis: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"value"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"物理成绩"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          splitLine: { lineStyle: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"dashed"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        yAxis: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"value"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"化学成绩"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          splitLine: { lineStyle: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"dashed"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        tooltip: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          trigger: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"item"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">          formatter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">            // params.data 是一个数组 [物理成绩, 化学成绩, 姓名, 班级]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> `${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">params</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">} - ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">params</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}&#x3C;br/>物理: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">params</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}&#x3C;br/>化学: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">params</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        series: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"学生"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"scatter"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            symbolSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data: correlationData,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            itemStyle: { color: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"rgba(25, 100, 150, 0.6)"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      scatterChart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">setOption</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(scatterChartOption)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div></details>
<p>通过观察散点图的分布趋势，我们可以做出初步判断。如果点主要集中在从左下到右上的对角线区域，则说明物理和化学成绩呈正相关关系。我们还可以轻易地发现那些“偏科”的异常点（比如物理很高但化学很低的学生）。</p>
<h3 id="场景四-尖子生各科能力模型-雷达图" tabindex="-1">场景四：尖子生各科能力模型（雷达图） <a class="header-anchor" href="#场景四-尖子生各科能力模型-雷达图" aria-label="Permalink to &quot;场景四：尖子生各科能力模型（雷达图）&quot;"></a></h3>
<p><strong>分析目标</strong>：选取总分排名前三的学生，用雷达图对比他们的各科能力，分析他们的学科优势与短板。</p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/048.png" alt="048.png" loading="lazy"></p>
<details class="details custom-block"><summary>完整代码</summary>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"utf-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>场景四：尖子生各科能力模型&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"radar-chart"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"width: 100%; height: 500px;"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"text/javascript"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // --- 数据准备 (复用上面的 generateMockData) ---</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generateMockData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        /* ... 同上 ... */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(1)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(2)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(3)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(4)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(5)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">          "高三(6)班"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> subjects</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"语文"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"数学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"英语"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"物理"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"化学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"生物"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> studentsPerClass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 50</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> studentId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        classes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">className</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">          for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> studentsPerClass; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { 班级: className, 姓名: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`学生${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">studentId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> totalScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            subjects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">              const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> score</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              student[subject] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> score</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">              totalScore </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> score</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            student[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"总分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> totalScore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(student)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            studentId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> examData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generateMockData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> getTopStudentsData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">topN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> sortedData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">data].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">sort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> b[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"总分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> a[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"总分"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> topStudents</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> sortedData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, topN)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> subjects</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"语文"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"数学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"英语"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"物理"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"化学"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"生物"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> indicator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> subjects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ({ name: s, max: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> seriesData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> topStudents.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          value: subjects.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> student[s]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">student</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"姓名"</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">} (${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">student</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"班级"</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">})`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        }))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { indicator, seriesData }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> radarData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> getTopStudentsData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(examData, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // --- ECharts 配置 ---</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> radarChart </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> echarts.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"radar-chart"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> radarChartOption </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        title: { text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"年级顶尖学生学科能力雷达图"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, left: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"center"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        tooltip: { trigger: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"item"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        legend: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          data: radarData.seriesData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> item.name),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          bottom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          textStyle: { fontSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        radar: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          indicator: radarData.indicator,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          center: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"50%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"50%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          radius: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"65%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        series: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"学科能力对比"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"radar"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            data: radarData.seriesData,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            areaStyle: { opacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      radarChart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">setOption</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(radarChartOption)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div></details>
<p>雷达图能够非常直观地展示出每个学生的学科均衡性。面积越大的学生，综合实力越强；在某个坐标轴上特别突出的，说明该学科是其优势学科。</p>
<h2 id="进阶话题与技巧" tabindex="-1">进阶话题与技巧 <a class="header-anchor" href="#进阶话题与技巧" aria-label="Permalink to &quot;进阶话题与技巧&quot;"></a></h2>
<p>掌握了以上内容，你已经可以应对 80% 的常见图表需求了。但 ECharts 的世界远不止于此。</p>
<h3 id="事件与行为" tabindex="-1">事件与行为 <a class="header-anchor" href="#事件与行为" aria-label="Permalink to &quot;事件与行为&quot;"></a></h3>
<p>ECharts 实例支持监听鼠标事件。你可以通过 <code>myChart.on('click', ...)</code> 来捕捉用户的点击行为，实现图表下钻、联动等复杂交互。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// myChart 变量来自前面的初始化实例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">myChart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"click"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // 打印点击的系列名称、数据、数据索引</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(params.seriesName, params.name, params.dataIndex)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // 在这里可以触发其他操作，比如弹出一个对话框显示详细信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  alert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"你点击了："</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> params.name)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
</div><h3 id="响应式布局" tabindex="-1">响应式布局 <a class="header-anchor" href="#响应式布局" aria-label="Permalink to &quot;响应式布局&quot;"></a></h3>
<p>当浏览器窗口大小变化时，你可能希望图表也能自适应调整。只需要监听 <code>resize</code> 事件，并调用 ECharts 实例的 <code>resize</code> 方法即可。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// myChart 变量来自前面的初始化实例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"resize"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  myChart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">resize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
</div><p>结合 <code>grid</code>、<code>legend</code> 等组件的百分比布局配置，可以轻松实现完美的响应式图表。</p>
<h3 id="视觉映射-visualmap" tabindex="-1">视觉映射 <code>visualMap</code> <a class="header-anchor" href="#视觉映射-visualmap" aria-label="Permalink to &quot;视觉映射 `visualMap`&quot;"></a></h3>
<p><code>visualMap</code> 是一个非常强大的组件，用于将数据的大小映射到视觉元素上，如颜色、大小、透明度等。</p>
<p>例如，在上面的散点图中，我们可以用 <code>visualMap</code> 将学生的总分映射到散点的颜色上，从而在二维关系中引入第三个维度的信息。只需要修改散点图示例的 <code>option</code> 和数据处理函数即可实现。</p>
<h3 id="动画配置" tabindex="-1">动画配置 <a class="header-anchor" href="#动画配置" aria-label="Permalink to &quot;动画配置&quot;"></a></h3>
<p>ECharts 内置了流畅的动画效果。你可以在 <code>option</code> 的根级别对动画进行全局配置，也可以在 <code>series</code> 级别进行单独配置，以控制动画的时长、缓动效果等。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // 全局动画配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  animation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  animationDuration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 初始动画时长</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  animationEasing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'cubicOut'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 缓动效果</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  series</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">    // 系列动画配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    animationDelay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">idx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> idx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;"></a></h2>
<p>行文至此，我们从 ECharts 的安装、第一个“Hello World”案例开始，系统性地剖析了其核心配置项，如 <code>series</code>, <code>xAxis</code>, <code>yAxis</code>, <code>grid</code>, <code>tooltip</code>, <code>legend</code> 和 <code>dataset</code>。更重要的是，我们通过一个贯穿始终的“高三成绩分析”实战项目，将这些知识点融会贯通，应用到了具体的业务场景中，绘制了柱状图、饼图、散点图和雷达图。</p>
<p>希望你现在回过头再看 ECharts，不再觉得它是一堆望而生畏的配置项，而是把它看作一套强大而灵活的“可视化积木”。每一个配置项都是一块积木，只要我们理解了每块积木的作用，就能按照自己的蓝图，搭建出任何想要的图表大厦。</p>
<p>数据可视化的征途是星辰大海。本文只是一个起点，ECharts 还有更多高级的功能（如图形组件、自定义系列、GL 三维图表等）等待你去探索。</p>
<p>(完)</p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/039.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[前端新手学习指南（2025 版）- 零基础入门前端开发]]></title>
            <link>https://stack.mcell.top/topics/client/frontend_beginner_guide_2025</link>
            <guid>https://stack.mcell.top/topics/client/frontend_beginner_guide_2025</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[2025年前端开发完整学习路线图。从零基础到就业，涵盖HTML/CSS/JavaScript基础、React/Vue框架、工程化工具、AI辅助开发等现代前端技术栈的系统性学习指南。]]></description>
            <content:encoded><![CDATA[<VideoEmbed 
  url="https://www.bilibili.com/video/BV1eC411p73m" 
  title="织点代码-前端技术的十八年风雨" />
<h1 id="前端新手学习指南-2025-版" tabindex="-1"><strong>前端新手学习指南（2025 版）</strong> <a class="header-anchor" href="#前端新手学习指南-2025-版" aria-label="Permalink to &quot;**前端新手学习指南（2025 版）**&quot;"></a></h1>
<div class="tip custom-block"><p class="custom-block-title">提示</p>
<p>或许，可以在开始阅读本文之前，观看上面的视频，对前端会有更好的理解。</p>
</div>
<p>我假设你是一张白纸，没有任何技术背景。本文会回答四个问题：</p>
<ol>
<li>前端是什么？</li>
<li>怎么学？</li>
<li>工具怎么选？</li>
<li>AI 有什么影响？</li>
</ol>
<h2 id="一、前端是什么-一个造车的比喻" tabindex="-1"><strong>一、前端是什么？一个造车的比喻</strong> <a class="header-anchor" href="#一、前端是什么-一个造车的比喻" aria-label="Permalink to &quot;**一、前端是什么？一个造车的比喻**&quot;"></a></h2>
<p>很多人喜欢用“盖房子”来比喻网页开发，我觉得不够贴切。前端开发更像是在造一辆现代汽车。</p>
<p>一辆车主要由三部分组成：</p>
<ul>
<li>
<p><strong>车架（HTML）</strong>：这是汽车的骨架。它规定了四个轮子在哪里，驾驶室在哪里，引擎舱在哪里。它只负责结构，不负责美丑。HTML 就是网页的骨架，告诉浏览器这里是标题，那里是段落，还有一个图片列表。</p>
</li>
<li>
<p><strong>外观（CSS）</strong>：车架造好了，该给它喷上什么颜色的漆？车身是流线型还是方方正正？内饰用真皮还是织物？这就是 CSS 的工作。它负责网页的全部样式，让原本只有骨架的页面变得好看。</p>
</li>
<li>
<p><strong>引擎和电子系统（JavaScript）</strong>：汽车能跑，能开灯，能导航，全靠引擎和各种电子设备。踩下油门，引擎要轰鸣；打了转向灯，灯就要闪烁。JavaScript 就是网页的引擎，负责实现各种交互效果。比如，用户点击一个按钮，弹出一个对话框，这就是它干的活。</p>
</li>
</ul>
<p>这三者合在一起，才是一辆能看又能开的完整汽车。前端工程师，就是把这三样东西组合起来，造出最终产品的人。</p>
<h2 id="二、怎么学这三门核心技术" tabindex="-1"><strong>二、怎么学这三门核心技术？</strong> <a class="header-anchor" href="#二、怎么学这三门核心技术" aria-label="Permalink to &quot;**二、怎么学这三门核心技术？**&quot;"></a></h2>
<p>前端的技术世界五花八门，但万变不离其宗，一切都建立在三大核心技术之上。学习前端，就是从这三样东西开始。</p>
<h3 id="_1-html-学语义-不是学标签" tabindex="-1"><strong>1. <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML" target="_blank" rel="noreferrer">HTML</a>：学语义，不是学标签</strong> <a class="header-anchor" href="#_1-html-学语义-不是学标签" aria-label="Permalink to &quot;**1. [HTML](https://developer.mozilla.org/zh-CN/docs/Web/HTML)：学语义，不是学标签**&quot;"></a></h3>
<p>你不需要背下来所有的 HTML 标签，就像你不需要认识字典里的每一个字。你只需要先学会最常用的那几个。</p>
<p><strong>第一步</strong>，了解下面这几个标签就够了：</p>
<ul>
<li><code>&lt;h1&gt;</code> ~ <code>&lt;h6&gt;</code>：标题</li>
<li><code>&lt;p&gt;</code>：段落</li>
<li><code>&lt;a&gt;</code>：链接</li>
<li><code>&lt;img&gt;</code>：图片</li>
<li><code>&lt;ul&gt;</code> / <code>&lt;li&gt;</code>：无序列表</li>
</ul>
<p><strong>第二步</strong>，立刻动手，做一个“个人菜谱”页面。你会发现，你需要一个大标题（<code>&lt;h1&gt;</code>）、一张成品图（<code>&lt;img&gt;</code>）、一段描述（<code>&lt;p&gt;</code>）、一个配料列表（<code>&lt;ul&gt;</code> 和 <code>&lt;li&gt;</code>）。</p>
<p>看，你已经自然而然地用上了这些标签。当你需要把页面划分成“顶部”、“正文”、“底部”这些区域时，再回头去查 <code>&lt;div&gt;</code>、<code>&lt;header&gt;</code>、<code>&lt;footer&gt;</code> 这些布局标签的用法。</p>
<blockquote>
<p><strong>核心</strong>：用正确的标签做正确的事。比如，标题就该用 <code>&lt;h1&gt;</code>，而不是用一个普通标签然后用 CSS 把字号改大。这叫“语义化”，是 HTML 的精髓。</p>
</blockquote>
<h3 id="_2-css-学布局-不是学样式" tabindex="-1"><strong>2. <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS" target="_blank" rel="noreferrer">CSS</a>：学布局，不是学样式</strong> <a class="header-anchor" href="#_2-css-学布局-不是学样式" aria-label="Permalink to &quot;**2. [CSS](https://developer.mozilla.org/zh-CN/docs/Web/CSS)：学布局，不是学样式**&quot;"></a></h3>
<p>新手很容易沉迷于各种颜色、阴影、动画效果。但这些都是次要的。CSS 的核心是<strong>布局（Layout）</strong>，也就是指挥页面上的元素，让它们待在正确的位置。</p>
<p><strong>第一步</strong>，理解“盒子模型”。网页上的任何东西都是一个盒子，它有内容（content）、内边距（padding）、边框（border）和外边距（margin）。</p>
<p><strong>第二步</strong>，直接学习 <strong>Flexbox</strong>。这是现代网页布局的基石，忘了那些过时的 <code>float</code> 吧。给自己定个小目标：用 Flexbox 实现一个网页最常见的“页眉-内容-页脚”三段式布局。</p>
<p><strong>第三步</strong>，等你搞定了布局，再回头去美化你的“个人菜谱”页面。给它加上颜色（<code>color</code>）、调整字体大小（<code>font-size</code>），这些都是锦上添花的事情。</p>
<blockquote>
<p><strong>核心</strong>：先搭骨架，再做装修。布局没学好，页面就是一盘散沙。</p>
</blockquote>
<h3 id="_3-javascript-学交互-不是啃语法" tabindex="-1"><strong>3. <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript" target="_blank" rel="noreferrer">JavaScript</a>：学交互，不是啃语法</strong> <a class="header-anchor" href="#_3-javascript-学交互-不是啃语法" aria-label="Permalink to &quot;**3. [JavaScript](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)：学交互，不是啃语法**&quot;"></a></h3>
<p>不要一上来就去啃“原型链”、“闭包”这些劝退概念。对于新手，JavaScript 的首要任务是让页面“动”起来。</p>
<p><strong>第一步</strong>，花一周左右，快速了解基本语法：变量（<code>let</code>, <code>const</code>）、数据类型、函数、if/else 判断。知道它们是干什么的就行。</p>
<p><strong>第二步</strong>，学习 JavaScript 最关键的能力：<strong>操作 DOM</strong>。简单说，就是用 JS 代码去获取页面上的一个元素，然后监听它的“点击”事件，最后改变它的样式。</p>
<p><strong>第三步</strong>，回到你的“个人菜谱”页面，增加一个功能：点击一个按钮，可以显示或隐藏配料列表。这个小小的功能，会逼着你学会如何获取元素、监听事件、修改样式。这比你看十遍书还有用。</p>
<blockquote>
<p><strong>核心</strong>：先学会用 JS 做一个最简单的交互。当你能独立给页面增加一个可互动的功能时，你就入门了。</p>
</blockquote>
<div class="tip custom-block"><p class="custom-block-title">提示</p>
<p>新手最容易犯的错误，就是想把一门技术“学完”。这是不可能的，正确的想法是“学会用它做点东西”。</p>
<p><strong>推荐学习资源</strong></p>
<ol>
<li><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noreferrer">MDN</a>: 最好的前端<strong>文档</strong>资源。</li>
<li><a href="https://www.bilibili.com/video/BV14J4114768/" target="_blank" rel="noreferrer">黑马程序员 pink 老师前端入门教程</a>: <strong>非常适合技术小白的视频教程</strong>，也是我的入坑视频。</li>
</ol>
</div>
<h2 id="三、react-还是-vue" tabindex="-1"><strong>三、React 还是 Vue？</strong> <a class="header-anchor" href="#三、react-还是-vue" aria-label="Permalink to &quot;**三、React 还是 Vue？**&quot;"></a></h2>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/029.webp" alt="029.webp" loading="lazy"></p>
<p>当你用上面三样东西做的页面越来越复杂，你就会觉得代码开始失控了。这时，你需要一个“框架”（Framework），帮你更好地组织代码。</p>
<p>目前最主流的选择是 React 和 Vue。</p>
<ul>
<li>
<p><strong><a href="https://zh-hans.react.dev/" target="_blank" rel="noreferrer">React</a></strong>：Facebook（现 Meta）的产品。它好比乐高。它只给你最核心的积木（组件），至于怎么搭建、用什么辅助工具（比如路由、状态管理），它给你极大的自由。</p>
<ul>
<li><strong>优点</strong>：非常灵活，生态强大，大厂招聘需求量最大。</li>
<li><strong>缺点</strong>：学习路线比较陡峭，因为你需要自己做很多技术选型。</li>
</ul>
</li>
<li>
<p><strong><a href="https://cn.vuejs.org/" target="_blank" rel="noreferrer">Vue</a></strong>：尤雨溪（华人）的作品。它更像一个宜家的家具套餐。除了核心功能，它官方还提供了一整套的“配套工具”（如 Vue Router、Pinia），开箱即用，帮你省去了选择的烦恼。</p>
<ul>
<li><strong>优点</strong>：上手快，文档极其友好，对新手来说学习过程更平滑。</li>
<li><strong>缺点</strong>：在灵活性和全球岗位数量上，略逊于 React。</li>
</ul>
</li>
</ul>
<p><strong>新手该怎么选？</strong></p>
<ul>
<li>如果你想<strong>尽快找到工作，希望学习曲线平缓一点</strong>，我推荐 <strong>Vue</strong>。</li>
<li>如果你<strong>不着急找工作，喜欢探索和折腾，目标是进入超大型公司</strong>，我推荐 <strong>React</strong>。</li>
</ul>
<p>记住，<strong>框架只是工具，思想是相通的</strong>。学会一个，再学另一个会非常快。最怕的，就是在两者之间反复摇摆，迟迟不动手。</p>
<h2 id="四、如何看待-ai" tabindex="-1"><strong>四、如何看待 AI？</strong> <a class="header-anchor" href="#四、如何看待-ai" aria-label="Permalink to &quot;**四、如何看待 AI？**&quot;"></a></h2>
<p>AI 不会取代前端工程师，但它会成为我们工作中不可或缺的“副驾驶”（Copilot）。新手应该今早的学会利用它。</p>
<ol>
<li>
<p><strong>把它当成你的私人老师</strong>
当你看到一段看不懂的代码，或者遇到一个报错，自己无法解决时，直接复制粘贴给 ChatGPT 或类似工具，问它：“这段代码是干什么的？”或者“这个报错是什么意思，怎么修复？”它能给你远比搜索引擎更直接的答案。</p>
</li>
<li>
<p><strong>让它帮你写重复的代码</strong>
你可以直接说：“帮我写一个产品卡片的 CSS，要有图片、标题和价格，风格简洁。” 它能帮你快速生成原型，让你专注于更核心的逻辑。GitHub Copilot 这类编辑器插件，更是能实时地帮你补全代码。</p>
</li>
<li>
<p><strong>用它来学习和解释</strong>
当你写完一个功能，可以让 AI 帮你“代码审查”（Code Review），问它：“我写的这段代码有没有可以优化的地方？” 这是以前的初学者想都不敢想的学习方式。</p>
</li>
</ol>
<p><strong>核心</strong>：AI 是你的加速器，不是你的替代品。AI 生成的代码，你必须能看懂、能修改。最终负责的人，依然是你。</p>
<div class="tip custom-block"><p class="custom-block-title">提示</p>
<p>在<a href="https://stack.mcell.top/blog/prompt_engineering_getting_started_engineering_ai" target="_blank" rel="noreferrer">提示工程（Prompt Engineering）入门指南</a>一文中，我详细介绍了如何与一个大型语言模型（LLM）高效对话，希望对你有帮助。</p>
</div>
<h2 id="五、一些心里话" tabindex="-1"><strong>五、一些心里话</strong> <a class="header-anchor" href="#五、一些心里话" aria-label="Permalink to &quot;**五、一些心里话**&quot;"></a></h2>
<ol>
<li><strong>少看多练</strong>。编程是门手艺，代码是敲出来的，不是看出来的。</li>
<li><strong>习惯英文</strong>。最好的教程、最新的技术，都是英文的。尽早习惯阅读 MDN 这样的第一手资料。</li>
<li><strong>多问“为什么”</strong>。不要满足于代码能跑就行。多问一句“为什么 Flexbox 能实现居中？”，理解原理才能让你走得更远。</li>
<li><strong>接受挫败感</strong>。写代码一定会遇到 Bug。解决 Bug 是工作的常态，一个问题卡住一天很正常。</li>
<li><strong>做一个自己的作品</strong>。从今天起，就构思一个真正属于你自己的小项目，比如个人博客、一个记账工具。它会是你最好的简历。</li>
</ol>
<h2 id="结语" tabindex="-1"><strong>结语</strong> <a class="header-anchor" href="#结语" aria-label="Permalink to &quot;**结语**&quot;"></a></h2>
<p>前端开发的门槛不高，但上限很高。它的魅力在于，你写的代码，能立刻在浏览器里看到结果，这种即时反馈对新手特别友好。</p>
<p>不用被各种新技术名词吓到。回到起点，踏踏实实地用一个个小项目，把车架（HTML）、外观（CSS）和引擎（JS）这三件事练好。</p>
<p>（完）</p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/029.webp" length="0" type="image/webp"/>
        </item>
        <item>
            <title><![CDATA[GSAP 入门指南]]></title>
            <link>https://stack.mcell.top/topics/client/gsap_getting_started_guide</link>
            <guid>https://stack.mcell.top/topics/client/gsap_getting_started_guide</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[深入浅出地讲解 GSAP 动画库的核心概念，从补间动画到时间线，从简单的移动效果到复杂的序列动画，让你彻底掌握 Web 动画的精髓。]]></description>
            <content:encoded><![CDATA[<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/038.png" alt="038.png" loading="lazy"></p>
<center style="font-size: 12px; color: gray;">Gasp 官网首页，很有趣的交互效果。</center>
<h1 id="gsap-入门指南" tabindex="-1">GSAP 入门指南 <a class="header-anchor" href="#gsap-入门指南" aria-label="Permalink to &quot;GSAP 入门指南&quot;"></a></h1>
<p>在很长一段时间里，我与 GSAP 的关系，可以说是“最熟悉的陌生人”。</p>
<p>时常，遇到一些 CSS 难以驾驭的复杂动画，我的第一反应就是打开 GPT，描述我想要的效果，然后将它生成的 CSS 或者 GSAP 代码复制粘贴到项目中。它能用，效果也不错，项目也成功上线了。</p>
<p>但问题很快就来了。当我想对动画进行一些微调，比如“让第二个动画提前 0.2 秒开始”，或者“当用户滚动到一半时暂停整个动画序列”时，AI 生成的代码就成了一个“黑箱”。我看不懂其中的逻辑，只能回去修改我的提问（Prompt），然后一次次地“抽奖”。</p>
<p>我意识到，我只是一个代码的“搬运工”，而不是一个“创造者”。这种感觉不是很好。</p>
<p>最近，项目不忙，我下定决心，花半天时间彻底搞懂 GSAP。我打开官方文档，耐着性子读完了核心概念。结果令我大吃一惊——如此简单！曾经让我望而生畏的那些复杂动画，其底层逻辑，无非是建立在两三个核心概念之上。</p>
<h2 id="补间动画-tween" tabindex="-1">补间动画（Tween） <a class="header-anchor" href="#补间动画-tween" aria-label="Permalink to &quot;补间动画（Tween）&quot;"></a></h2>
<p>官网中遇到的第一个核心概念，叫做 <strong>Tween（补间动画）</strong>。</p>
<p>这个词听起来很专业，但它的思想却很朴素：“<strong>让一个东西，从一个状态，变化到另一个状态。</strong>”</p>
<p>GSAP 把这个过程封装成了一个极其简单的函数：<code>gsap.to()</code>。你只需要告诉它两件事：</p>
<ol>
<li><strong>谁？</strong> (动画的目标是谁？)</li>
<li><strong>变成什么样？</strong> (动画的最终状态和参数是什么？)</li>
</ol>
<p>比如，我以前让 AI 写一个“方块向右移动并旋转”的动画，它可能会给我一段这样的代码。现在，我能清晰地读懂它的含义。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 语法: gsap.to(目标, { ...参数 });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 持续 1 秒</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// x 轴移动 300px</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  rotation: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">360</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 旋转 360 度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
</div><p><code>x</code> 和 <code>rotation</code> 这些都是 GSAP 的简写，它会自动帮你转换为 <code>transform: translateX(300px) rotate(360deg);</code>，并且处理好了所有浏览器兼容性问题。</p>
<p>除了 <code>to()</code>，还有两个几乎一样的函数，只是改变了动画的参照方向：</p>
<ul>
<li><code>gsap.from()</code>：<strong>从</strong>你给定的状态，运动到它<strong>现在</strong>的位置。特别适合做入场动画。</li>
<li><code>gsap.fromTo()</code>：完全自定义，<strong>从 A 状态</strong>，运动<strong>到 B 状态</strong>。</li>
</ul>
<p>理解了这三个函数，就等于掌握了 GSAP 的基本“单词”。你可以创造出任何独立的动画效果。</p>
<p><strong>【最小可运行 Demo】</strong></p>
<p>你可以把下面的代码完整复制到一个 HTML 文件中，用浏览器打开，亲眼见证这三个“单词”的威力。</p>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">      body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        font-family</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">sans-serif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .box</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">block</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">80</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">80</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        background-color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">#28a745</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        margin-top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>gsap.to (到...)&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"box box1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>gsap.from (从...)&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"box box2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>gsap.fromTo (从...到...)&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"box box3"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // Box 1: 动画“到” x:300 的位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // Box 2: “从” x:300 的位置，动画到它当前的位置 (x:0)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // Box 3: “从” x:-100 的位置，“到” x:300 的位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">fromTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">        ".box3"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        { x: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, opacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, opacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div><h2 id="时间线-timeline" tabindex="-1">时间线 (Timeline) <a class="header-anchor" href="#时间线-timeline" aria-label="Permalink to &quot;时间线 (Timeline)&quot;"></a></h2>
<p>假设 Tween 是动画组成的“单词”，那么 <strong>Timeline (时间线)</strong> 就是 GSAP 用来“遣词造句”的语法。</p>
<p>我以前最大的困惑，就是如何组织多个动画。比如，先执行 A，A 结束后再执行 B，B 开始的同时执行 C。之前的代码里总是一堆 <code>delay</code>（延迟）参数，彼此依赖，改一个就得改全部，非常脆弱。</p>
<p><strong>Timeline 完美地解决了这个问题。</strong></p>
<p>你可以创建一个时间线，然后把你的所有 Tween（补间动画）按顺序放进去。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 以前，我可能会看到这样的“延迟地狱”代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { y: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 依赖于第一个动画的时长</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box3"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { rotation: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 依赖于前两个...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 现在，用时间线，逻辑清晰如画</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> tl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">timeline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">tl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">tl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { y: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">tl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box3"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { rotation: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span></code></pre>
</div><p>在这段代码里，动画会严格地按照添加顺序一个接一个播放。<strong>无论你如何修改某个动画的 <code>duration</code>，后续的动画总能正确地衔接。</strong></p>
<p>更强大的是，你可以控制动画的“插入点”，实现复杂的编排。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">tl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { y: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"-=0.5"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 在上个动画结束前 0.5s 开始</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box3"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, { rotation: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"&#x3C;"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 和上个动画同时开始</span></span></code></pre>
</div><p>当你了解了 Timeline 之后，过去那些看起来高深莫测的序列动画，都会变得清晰明了。</p>
<p><a href="https://codepen.io/Tostawind/pen/KKrEjjJ" target="_blank" rel="noreferrer"><strong>点击此处查看 Timeline 的 CodePen 演示</strong></a></p>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/037.png" alt="037.png" loading="lazy"></p>
<center style="font-size: 12px; color: gray;">CodePen，专属于前端开发者的Github</center>
<h2 id="缓动效果" tabindex="-1">缓动效果 <a class="header-anchor" href="#缓动效果" aria-label="Permalink to &quot;缓动效果&quot;"></a></h2>
<p>掌握了 Tween 和 Timeline，已经能构建出任何复杂的动画结构了。剩下的，就是一些让动画更生动、更优雅的微调。</p>
<p>其中有两个是我过去最常用，但不知其所以然的属性。</p>
<ol>
<li>
<p><code>stagger</code>（交错）</p>
<p>场景：让一组元素（比如导航栏的菜单项、文章的标题字母）依次入场。
我以前会告诉 AI：“让它们一个接一个出现”。现在我明白了，只需要一个 <code>stagger</code> 属性。</p>
<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 让所有的 .dot 元素，以 0.1 秒的间隔，依次从 Y 轴 -20px 的位置下来</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".dot"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  y: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  opacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  stagger: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 核心在这里</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
</div><p><a href="https://codepen.io/amdufour/pen/YzqWyBO" target="_blank" rel="noreferrer"><strong>点击此处查看 Stagger 的 CodePen 演示</strong></a></p>
</li>
<li>
<p><code>ease</code>（缓动）</p>
<p>它决定了动画的速度曲线，是动画的“灵魂”。与其说是“属性”，不如说是一种“感觉”。GSAP 内置了海量的缓动效果，比如 <code>power1</code>、<code>back</code>、<code>elastic</code>、<code>bounce</code> 等。
过去我只会说“让它弹一下”，现在我可以精确地选择 <code>ease: &quot;back.out(1.7)&quot;</code>（像被拉开后收回）或者 <code>ease: &quot;bounce.out&quot;</code>（像皮球落地）。</p>
<p>GSAP 官方提供了一个非常直观的<a href="https://gsap.com/docs/v3/Eases/" target="_blank" rel="noreferrer">缓动效果可视化工具</a>，强烈建议去玩一下，感受不同 <code>ease</code> 带来的节奏变化。</p>
</li>
</ol>
<p><img src="https://stack-mcell.tos-cn-shanghai.volces.com/036.png" alt="036.png" loading="lazy"></p>
<h2 id="写在最后" tabindex="-1">写在最后 <a class="header-anchor" href="#写在最后" aria-label="Permalink to &quot;写在最后&quot;"></a></h2>
<p>这次学习 GSAP 的经历，对我触动很大。</p>
<p>当一个 AI 工具被我们视为“黑箱”时，我们能做的，就只有输入和输出；而当我们理解了它的核心思想，它就成了我们思想的延伸，我们才能真正用它去“创造”。</p>
<p>GSAP 的核心思想，就是 <strong>Tween（补间）</strong> 和 <strong>Timeline（时间线）</strong>。用 Tween 定义单个动画，用 Timeline 编排它们。如此简单，却又如此强大。</p>
<p>如果你也像曾经的我一样，对某些技术感到既熟悉又陌生，不妨也静下心来，花一点点时间去阅读它的“第一章”。你可能会发现，那扇你以为很高的大门，其实门槛就在脚下。</p>
<p>（完）</p>
]]></content:encoded>
            <enclosure url="https://stack-mcell.tos-cn-shanghai.volces.com/038.png" length="0" type="image/png"/>
        </item>
        <item>
            <title><![CDATA[GSAP ScrollTrigger 详解]]></title>
            <link>https://stack.mcell.top/topics/client/gsap_scrolltrigger</link>
            <guid>https://stack.mcell.top/topics/client/gsap_scrolltrigger</guid>
            <pubDate>Sun, 02 Nov 2025 19:17:07 GMT</pubDate>
            <description><![CDATA[深入学习 GSAP ScrollTrigger 插件，掌握如何通过滚动控制动画，实现视差滚动、元素固定、滚动驱动动画等高级交互效果。]]></description>
            <content:encoded><![CDATA[<VideoEmbed url="https://youtu.be/X7IBa7vZjmo" title="Introducing ScrollTrigger for GSAP" /><h1 id="gsap-scrolltrigger-详解" tabindex="-1">GSAP ScrollTrigger 详解 <a class="header-anchor" href="#gsap-scrolltrigger-详解" aria-label="Permalink to &quot;GSAP ScrollTrigger 详解&quot;"></a></h1>
<p>在上一篇文章 <a href="https://stack.mcell.top/topics/client/gsap_getting_started_guide" target="_blank" rel="noreferrer">GSAP 入门指南</a> 里，我们学习了 GSAP 的两个核心：</p>
<ul>
<li><strong>Tween</strong>：补间动画。</li>
<li><strong>Timeline</strong>：时间线。</li>
</ul>
<p>有了它们，我们能让元素动起来。
但是，动画什么时候触发？靠谁来控制？</p>
<p>答案是：<strong>滚动（Scroll）</strong>。</p>
<p>最常见的场景：</p>
<ul>
<li>元素滚动到视窗才开始播放。</li>
<li>滚动条走到哪里，动画精确跟到哪里。</li>
<li>内容卡住一会儿，再接着滚动，就像苹果官网。</li>
</ul>
<p>要实现这些，我们需要今天的主角：<strong>ScrollTrigger</strong>。
它是 GSAP 官方提供的滚动插件。
一句话：<strong>把滚动条变成动画的遥控器</strong>。</p>
<h2 id="注册插件" tabindex="-1">注册插件 <a class="header-anchor" href="#注册插件" aria-label="Permalink to &quot;注册插件&quot;"></a></h2>
<p>我们还是用 CDN 的方式引入：</p>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div><p>然后在 JS 里注册：</p>
<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">registerPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(ScrollTrigger)</span></span></code></pre>
</div><p>不注册的话，GSAP 根本不知道有个滚动插件存在。</p>
<h2 id="核心概念" tabindex="-1">核心概念 <a class="header-anchor" href="#核心概念" aria-label="Permalink to &quot;核心概念&quot;"></a></h2>
<p>ScrollTrigger 配置很多，但核心问题就两个：</p>
<ol>
<li><strong>什么时候开始？</strong></li>
<li><strong>怎么播放？</strong></li>
</ol>
<h3 id="trigger" tabindex="-1">trigger <a class="header-anchor" href="#trigger" aria-label="Permalink to &quot;trigger&quot;"></a></h3>
<p>谁来触发？</p>
<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  scrollTrigger: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    trigger: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
</div><p>这里 <code>.box</code> 就是触发点。
当 <code>.box</code> 出现在视口，动画才会执行。</p>
<h3 id="start-和-end" tabindex="-1">start 和 end <a class="header-anchor" href="#start-和-end" aria-label="Permalink to &quot;start 和 end&quot;"></a></h3>
<p>动画何时开始？何时结束？</p>
<p>格式：<code>&quot;&lt;元素位置&gt; &lt;视窗位置&gt;&quot;</code>。</p>
<ul>
<li><code>start: &quot;top center&quot;</code> → 元素顶部到达视窗中心时开始。</li>
<li><code>end: &quot;+=300&quot;</code> → 从开始再滚动 300px，结束。</li>
</ul>
<p>可以想象一根“滚动尺子”，<code>start</code> 和 <code>end</code> 就是区间范围。</p>
<h3 id="markers" tabindex="-1">markers <a class="header-anchor" href="#markers" aria-label="Permalink to &quot;markers&quot;"></a></h3>
<p>调试神器。</p>
<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">scrollTrigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  trigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"top center"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  markers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
</div><p>页面会出现彩色的 <code>start</code> / <code>end</code> 标记线。
建议开发时一直开着，肉眼确认动画区间。</p>
<VideoEmbed url="https://stack-mcell.tos-cn-shanghai.volces.com/040.mp4" title="markers" /><h3 id="scrub" tabindex="-1">scrub <a class="header-anchor" href="#scrub" aria-label="Permalink to &quot;scrub&quot;"></a></h3>
<p>ScrollTrigger 的灵魂。</p>
<ul>
<li>默认：动画触发后，按 <code>duration</code> 播放完。</li>
<li><code>scrub: true</code>：动画进度和滚动条绑定。</li>
</ul>
<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">scrub</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span></span></code></pre>
</div><p>滚动到一半，动画停在一半。
就像动画挂在滚动条上。</p>
<p><code>scrub: 1</code> → 多加 1 秒缓冲，让体验更丝滑。</p>
<h3 id="pin" tabindex="-1">pin <a class="header-anchor" href="#pin" aria-label="Permalink to &quot;pin&quot;"></a></h3>
<p><code>pin</code> 可以让元素在滚动区间内固定。</p>
<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">pin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span></span></code></pre>
</div><p>这就是网页常见的“卡住”效果。
和 CSS 的 <code>sticky</code> 不同，它能和动画区间深度绑定，常见的横行滚动，就是这个效果。</p>
<h3 id="toggleactions" tabindex="-1">toggleActions <a class="header-anchor" href="#toggleactions" aria-label="Permalink to &quot;toggleActions&quot;"></a></h3>
<p>如果不用 <code>scrub</code>，就要靠 <code>toggleActions</code>。</p>
<p>它控制四种状态：</p>
<ul>
<li><code>onEnter</code></li>
<li><code>onLeave</code></li>
<li><code>onEnterBack</code></li>
<li><code>onLeaveBack</code></li>
</ul>
<p>默认是 <code>&quot;play none none none&quot;</code>：</p>
<ul>
<li>元素进入时播放一次</li>
<li>其他情况不处理</li>
</ul>
<p>如果你想“返回时反播”，可以设置：</p>
<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">toggleActions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"play none none reverse"</span></span></code></pre>
</div><h2 id="实战演练" tabindex="-1">实战演练 <a class="header-anchor" href="#实战演练" aria-label="Permalink to &quot;实战演练&quot;"></a></h2>
<p>下面给出三个完整示例，<strong>复制到本地就能跑</strong>。
每个示例后我都会点出关键解释。</p>
<h3 id="示例一-元素进入视窗" tabindex="-1">示例一：元素进入视窗 <a class="header-anchor" href="#示例一-元素进入视窗" aria-label="Permalink to &quot;示例一：元素进入视窗&quot;"></a></h3>
<p>方块从左侧淡入。
进入视窗时播放，返回时反向。</p>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"zh-CN"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"UTF-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>ScrollTrigger 示例1&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">      body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">300</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">vh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .spacer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">vh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .box</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">150</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">150</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">#28a92b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        margin-left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">50</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"spacer"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"box"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"spacer"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">registerPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(ScrollTrigger)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        y: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        rotation: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">360</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        duration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        scrollTrigger: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          trigger: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".box"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          start: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"top 80%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 元素进入视口下方 80% 时触发</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          end: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bottom 20%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 元素离开视口上方 20% 时结束</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          toggleActions: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"play none none reverse"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          markers: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div><p><strong>关键点</strong>：</p>
<ul>
<li><code>toggleActions: &quot;play ... reverse&quot;</code> → 往下滚时播放，往上滚时反播。</li>
<li><code>markers: true</code> → 方便调试触发区间。</li>
</ul>
<VideoEmbed url="https://stack-mcell.tos-cn-shanghai.volces.com/040.mp4" title="视频展示" /><h3 id="示例二-视差滚动" tabindex="-1">示例二：视差滚动 <a class="header-anchor" href="#示例二-视差滚动" aria-label="Permalink to &quot;示例二：视差滚动&quot;"></a></h3>
<p>背景比前景慢，制造 3D 深度感。</p>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"zh-CN"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"UTF-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>ScrollTrigger 示例2&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">      section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">vh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">flex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        justify-content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        align-items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        font-size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">rem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .section-two</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://picsum.photos/1200/1200?random=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">no-repeat</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">          center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">cover</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">vh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">section</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"section-one"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>第一页&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">section</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"section-two"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">section</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"section-three"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>结束页&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">registerPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(ScrollTrigger)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".section-two"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        backgroundPosition: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"50% 100%"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        scrollTrigger: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          trigger: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".section-two"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          start: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"top bottom"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 元素顶部到达视窗底部时开始</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          end: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"bottom top"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 元素底部到达视窗顶部时结束</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          scrub: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 滚动进度与动画绑定，+1秒缓冲</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          markers: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div><p><strong>关键点</strong>：</p>
<ul>
<li><code>scrub: 1</code> → 背景跟着滚动，有点延迟，更真实。</li>
<li><code>start</code> 和 <code>end</code> → 定义滚动区间，覆盖整个视差段落。</li>
</ul>
<VideoEmbed url="https://stack-mcell.tos-cn-shanghai.volces.com/041.mp4" title="视频展示" /><h3 id="示例三-横向滚动" tabindex="-1">示例三：横向滚动 <a class="header-anchor" href="#示例三-横向滚动" aria-label="Permalink to &quot;示例三：横向滚动&quot;"></a></h3>
<p>纵向滚动转为水平切换。</p>
<div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" v-pre=""><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"zh-CN"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"UTF-8"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>ScrollTrigger 示例3&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .horizontal-container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">vh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        overflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">hidden</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .panel-wrapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">flex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .panel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        flex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">flex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        align-items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        justify-content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        font-size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">rem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .panel:nth-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://picsum.photos/1200/1200?random=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">cover</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .panel:nth-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://picsum.photos/1200/1200?random=2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">cover</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .panel:nth-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://picsum.photos/1200/1200?random=3"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">cover</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      .spacer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">vh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"spacer"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">section</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"horizontal-container"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"panel-wrapper"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"panel"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>第一页&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"panel"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>第二页&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"panel"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>第三页&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"spacer"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">registerPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(ScrollTrigger)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> wrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".panel-wrapper"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      gsap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(wrapper, {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(wrapper.scrollWidth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> window.innerWidth),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        ease: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"none"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        scrollTrigger: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          trigger: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">".horizontal-container"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          pin: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 固定容器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          scrub: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// 滚动驱动动画</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">          end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "+="</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (wrapper.scrollWidth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> window.innerWidth),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          invalidateOnRefresh: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          markers: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">></span></span></code></pre>
</div><p><strong>关键点</strong>：</p>
<ul>
<li><code>pin: true</code> → 容器在滚动期间固定住。</li>
<li><code>x: () =&gt; -(wrapper.scrollWidth - window.innerWidth)</code> → 根据内容宽度计算移动距离。</li>
<li><code>invalidateOnRefresh: true</code> → 窗口大小变化时，重新计算。</li>
</ul>
<VideoEmbed url="https://stack-mcell.tos-cn-shanghai.volces.com/042.mp4" title="视频展示" /><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;"></a></h2>
<p>ScrollTrigger 的本质是：
<strong>让滚动条变成动画的时间轴</strong>。</p>
<p>要点：</p>
<ul>
<li>引入并注册插件。</li>
<li>用 <code>trigger</code>、<code>start</code>、<code>end</code> 控制触发区间。</li>
<li>开启 <code>markers</code> 调试。</li>
<li><code>scrub</code>、<code>pin</code> 是进阶玩法的核心。</li>
</ul>
<p>有了它，你能轻松实现滚动叙事：
从淡入淡出，到视差，再到横向切换。</p>
<p>（完）</p>
]]></content:encoded>
        </item>
    </channel>
</rss>