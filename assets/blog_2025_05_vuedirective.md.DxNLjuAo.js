import{_ as i,c as a,o as n,a2 as l}from"./chunks/framework.CGIWSPU7.js";const g=JSON.parse('{"title":"Vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼šæ­å¼€ DOM æ“ä½œçš„ç¥ç§˜é¢çº±","description":"æ·±å…¥æ¢ç´¢ Vue è‡ªå®šä¹‰æŒ‡ä»¤çš„ä½¿ç”¨åœºæ™¯ã€ç”Ÿå‘½å‘¨æœŸå’Œæœ€ä½³å®è·µï¼ŒæŒæ¡ DOM æ“ä½œçš„ä¼˜é›…æ–¹å¼","frontmatter":{"title":"Vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼šæ­å¼€ DOM æ“ä½œçš„ç¥ç§˜é¢çº±","description":"æ·±å…¥æ¢ç´¢ Vue è‡ªå®šä¹‰æŒ‡ä»¤çš„ä½¿ç”¨åœºæ™¯ã€ç”Ÿå‘½å‘¨æœŸå’Œæœ€ä½³å®è·µï¼ŒæŒæ¡ DOM æ“ä½œçš„ä¼˜é›…æ–¹å¼","date":"2025-01-19T00:00:00.000Z","tags":["Vue","è‡ªå®šä¹‰æŒ‡ä»¤","DOMæ“ä½œ","å‰ç«¯å¼€å‘"],"head":[["link",{"rel":"canonical","href":"https://stack.mcell.topblog/2025/05_vuedirective"}],["meta",{"property":"og:url","content":"https://stack.mcell.topblog/2025/05_vuedirective"}]]},"headers":[],"relativePath":"blog/2025/05_vuedirective.md","filePath":"blog/2025/05_vuedirective.md","lastUpdated":1755147736000}'),p={name:"blog/2025/05_vuedirective.md"};function e(t,s,h,k,r,E){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="vue-è‡ªå®šä¹‰æŒ‡ä»¤-æ­å¼€-dom-æ“ä½œçš„ç¥ç§˜é¢çº±" tabindex="-1">Vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼šæ­å¼€ DOM æ“ä½œçš„ç¥ç§˜é¢çº± <a class="header-anchor" href="#vue-è‡ªå®šä¹‰æŒ‡ä»¤-æ­å¼€-dom-æ“ä½œçš„ç¥ç§˜é¢çº±" aria-label="Permalink to &quot;Vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼šæ­å¼€ DOM æ“ä½œçš„ç¥ç§˜é¢çº±&quot;">â€‹</a></h1><p>åœ¨ Vue é‡Œï¼Œä½ å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨å’Œç»„ä»¶ã€å“åº”å¼æ•°æ®æ‰“äº¤é“ï¼Œå‡ ä¹ä¸éœ€è¦å…³å¿ƒåº•å±‚çš„ DOM æ“ä½œã€‚ä½†æ€»æœ‰é‚£ä¹ˆäº›æ—¶å€™ï¼ŒVue çœ‹èµ·æ¥&quot;ç®¡å¾—å¤ªå®½äº†&quot;ï¼Œä½ å°±æ˜¯æƒ³è‡ªå·±åŠ¨æ‰‹æ”¹æ”¹ DOMï¼Œå’‹åŠï¼Ÿ</p><p>ä½ å¯èƒ½ä¼šè¯´ï¼š&quot;ç›´æ¥ç”¨ <code>ref</code> ç„¶å <code>mounted</code> é‡Œ <code>el.focus()</code> å•Šï¼&quot; è¡Œï¼Œè¿™ç¡®å®æ˜¯ä¸ªåŠæ³•ã€‚ä½†å½“ä½ å‘ç°è‡ªå·±åœ¨å¤šä¸ªåœ°æ–¹éƒ½éœ€è¦ç±»ä¼¼çš„ DOM æ“ä½œï¼Œä»£ç è¶Šæ¥è¶Šä¹±æ—¶ï¼Œä½ å°±è¯¥é—®è‡ªå·±ï¼š&quot;æœ‰æ²¡æœ‰æ›´ä¼˜é›…çš„æ–¹å¼ï¼Ÿ&quot;</p><p><strong>ç­”æ¡ˆæ˜¯ï¼šè‡ªå®šä¹‰æŒ‡ä»¤ (Custom Directives)ã€‚</strong></p><h2 id="è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ä»€ä¹ˆ" tabindex="-1">è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>Vue è‡ªå¸¦äº†ä¸€äº›æŒ‡ä»¤ï¼Œæ¯”å¦‚ <code>v-model</code>ã€<code>v-show</code>ï¼Œå®ƒä»¬èƒ½è®©ä½ è½»æ¾æ“ä½œ DOMã€‚ä½† Vue ä¸èƒ½æ»¡è¶³æ‰€æœ‰åœºæ™¯ï¼Œæ¯”å¦‚ï¼š</p><ul><li>ä½ æƒ³è®©æŸä¸ªå…ƒç´ åœ¨æ’å…¥ DOM æ—¶è‡ªåŠ¨è·å–ç„¦ç‚¹ï¼Ÿ</li><li>ä½ æƒ³åŠ¨æ€æ§åˆ¶å…ƒç´ çš„é¢œè‰²ã€å¤§å°ï¼Ÿ</li><li>ä½ æƒ³åœ¨æŸä¸ªå…ƒç´ è¢«é”€æ¯å‰æ‰§è¡Œä¸€äº›é¢å¤–çš„æ“ä½œï¼Ÿ</li></ul><p>ç»„ä»¶ï¼Ÿå¯ä»¥ï¼Œä½†æœªå…æœ‰ç‚¹æ€é¸¡ç”¨ç‰›åˆ€ã€‚</p><p><code>watch</code>ï¼Ÿè¡Œï¼Œä½†ä»£ç è¿˜æ˜¯å¾ˆæ•£ã€‚</p><p>äºæ˜¯ Vue è¯´ï¼š&quot;æ¥ï¼Œç»™ä½ ä¸ªå·¥å…·ï¼Œè‡ªå·±é€ ä¸ªè½®å­ã€‚&quot;</p><h2 id="ä½ çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤" tabindex="-1">ä½ çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤ <a class="header-anchor" href="#ä½ çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤" aria-label="Permalink to &quot;ä½ çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤&quot;">â€‹</a></h2><p>å’±ä»¬å…ˆå†™ä¸ªç®€å•çš„ <code>v-highlight</code> æŒ‡ä»¤ï¼Œç»™æ–‡æœ¬åŠ ä¸ªé«˜äº®ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">script setup</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vHighlight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    el.classList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;is-highlight&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">script</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">highlight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">è¿™å¥è¯å¾ˆé‡è¦ï¼</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>Boom!</strong> è¿™ä¸ª <code>p</code> æ ‡ç­¾ç°åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¼šè‡ªåŠ¨æ·»åŠ  <code>is-highlight</code> ç±»ï¼Œä½ ä¸ç”¨æ¯æ¬¡éƒ½æ‰‹åŠ¨å†™ <code>class</code> äº†ã€‚</p><h3 id="æ—§è¯­æ³•ç‰ˆ-é-script-setup" tabindex="-1">æ—§è¯­æ³•ç‰ˆï¼ˆé <code>&lt;script setup&gt;</code>ï¼‰ <a class="header-anchor" href="#æ—§è¯­æ³•ç‰ˆ-é-script-setup" aria-label="Permalink to &quot;æ—§è¯­æ³•ç‰ˆï¼ˆé \`&lt;script setup&gt;\`ï¼‰&quot;">â€‹</a></h3><p>å¦‚æœä½ æ˜¯è€ Vue ç”¨æˆ·ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  directives: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    highlight: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        el.classList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;is-highlight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ç”šè‡³å¯ä»¥å…¨å±€æ³¨å†Œï¼Œè®©æ‰€æœ‰ç»„ä»¶éƒ½èƒ½ç”¨ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const app = createApp({})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>app.directive(&#39;highlight&#39;, {</span></span>
<span class="line"><span>  mounted(el) {</span></span>
<span class="line"><span>    el.classList.add(&#39;is-highlight&#39;)</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="æ·±å…¥æŒ‡ä»¤ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">æ·±å…¥æŒ‡ä»¤ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#æ·±å…¥æŒ‡ä»¤ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;æ·±å…¥æŒ‡ä»¤ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h2><p>Vue ç»„ä»¶æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œè‡ªå®šä¹‰æŒ‡ä»¤ä¹Ÿæœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> myDirective</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  created</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeMount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prevVnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  updated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prevVnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeUnmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  unmounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä¸¾ä¸ªæ›´å®é™…çš„ä¾‹å­ï¼Œæˆ‘ä»¬åšä¸ª <code>v-focus</code> æŒ‡ä»¤ï¼Œè®© <code>input</code> è‡ªåŠ¨èšç„¦ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">script setup</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vFocus</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> el.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">focus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">script</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">input v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">focus </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>æ¯” <code>autofocus</code> æ›´å¼ºï¼Œå› ä¸ºå®ƒä¸ä»…èƒ½åœ¨é¡µé¢åŠ è½½æ—¶ç”Ÿæ•ˆï¼Œè¿˜èƒ½åœ¨ <code>v-if</code> åˆ‡æ¢æ—¶ç”Ÿæ•ˆã€‚</p><h2 id="ä¼ å‚ã€ä¿®é¥°ç¬¦ä¸åŠ¨æ€å‚æ•°" tabindex="-1">ä¼ å‚ã€ä¿®é¥°ç¬¦ä¸åŠ¨æ€å‚æ•° <a class="header-anchor" href="#ä¼ å‚ã€ä¿®é¥°ç¬¦ä¸åŠ¨æ€å‚æ•°" aria-label="Permalink to &quot;ä¼ å‚ã€ä¿®é¥°ç¬¦ä¸åŠ¨æ€å‚æ•°&quot;">â€‹</a></h2><p>ä½ å¯ä»¥ç»™æŒ‡ä»¤ä¼ å€¼ï¼Œæ¯”å¦‚æ”¹å˜é¢œè‰²ï¼š</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&#39;red&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;è¿™æ®µæ–‡å­—ä¼šå˜çº¢&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">directive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;color&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  el.style.color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> binding.value;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å¤šä¸ªå‚æ•°ï¼Ÿå¯¹è±¡å­—é¢é‡æ¥å¸®ä½ ï¼š</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{ color: &#39;blue&#39;, fontSize: &#39;20px&#39; }&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;è¿™æ®µæ–‡å­—è“è‰²ä¸”æ›´å¤§&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">directive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;style&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(el.style, binding.value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>åŠ¨æ€å‚æ•°ä¹Ÿ OKï¼š</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-example:[arg]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å¦‚æœ <code>arg</code> æ˜¯ <code>&#39;color&#39;</code>ï¼Œé‚£ä¹ˆ <code>v-example:color=&quot;&#39;green&#39;&quot;</code> å®é™…ä¸Šç­‰äº <code>binding.arg === &#39;color&#39;</code>ã€‚</p><h2 id="ä»€ä¹ˆæ—¶å€™ä¸è¯¥ç”¨è‡ªå®šä¹‰æŒ‡ä»¤" tabindex="-1">ä»€ä¹ˆæ—¶å€™ä¸è¯¥ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ—¶å€™ä¸è¯¥ç”¨è‡ªå®šä¹‰æŒ‡ä»¤" aria-label="Permalink to &quot;ä»€ä¹ˆæ—¶å€™ä¸è¯¥ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ&quot;">â€‹</a></h2><p>Vue å·²ç»æœ‰ <code>v-bind</code>ã€<code>v-model</code> è¿™äº›å¼ºå¤§çš„å·¥å…·ï¼Œæ‰€ä»¥å¦‚æœèƒ½ç”¨å®ƒä»¬ï¼Œå°½é‡åˆ«å†™æŒ‡ä»¤ã€‚</p><h3 id="å¤šæ ¹ç»„ä»¶é—®é¢˜" tabindex="-1">å¤šæ ¹ç»„ä»¶é—®é¢˜ <a class="header-anchor" href="#å¤šæ ¹ç»„ä»¶é—®é¢˜" aria-label="Permalink to &quot;å¤šæ ¹ç»„ä»¶é—®é¢˜&quot;">â€‹</a></h3><p>å°¤å…¶æ˜¯ <strong>ç»„ä»¶æ ¹èŠ‚ç‚¹</strong>ï¼Œä¸è¦æ»¥ç”¨æŒ‡ä»¤ã€‚ä¾‹å¦‚ï¼š</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">MyComponent</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-demo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å¦‚æœ <code>MyComponent</code> æ˜¯å¤šæ ¹ç»„ä»¶ï¼ˆå³å®ƒçš„æ¨¡æ¿åŒ…å«å¤šä¸ªæ ¹çº§å…ƒç´ ï¼‰ï¼š</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;éƒ¨åˆ† 1&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;éƒ¨åˆ† 2&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>é‚£ä¹ˆ <code>v-demo</code> å¯èƒ½ä¼šå¤±æ•ˆï¼Œç”šè‡³ Vue ä¼šç›´æ¥è­¦å‘Šä½ ã€‚å› ä¸º Vue çš„æŒ‡ä»¤é»˜è®¤åªåº”ç”¨åˆ° <strong>ç»„ä»¶çš„æ ¹å…ƒç´ </strong>ï¼Œè€Œè¿™ä¸ªç»„ä»¶æœ‰å¤šä¸ªæ ¹å…ƒç´ ï¼ŒVue æ— æ³•å†³å®šåˆ°åº•è¯¥æŠŠæŒ‡ä»¤åº”ç”¨åˆ°å“ªä¸ªå…ƒç´ ä¸Šã€‚</p><h2 id="å¸¸è§çš„è‡ªå®šä¹‰æŒ‡ä»¤ç¤ºä¾‹" tabindex="-1">å¸¸è§çš„è‡ªå®šä¹‰æŒ‡ä»¤ç¤ºä¾‹ <a class="header-anchor" href="#å¸¸è§çš„è‡ªå®šä¹‰æŒ‡ä»¤ç¤ºä¾‹" aria-label="Permalink to &quot;å¸¸è§çš„è‡ªå®šä¹‰æŒ‡ä»¤ç¤ºä¾‹&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è‡ªåŠ¨èšç„¦</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vFocus</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> el.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">focus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾ç½®å…ƒç´ é¢œè‰²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    el.style.color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> binding.value;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›‘å¬ç‚¹å‡»å¤–éƒ¨äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vClickOutside</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    el.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">__clickOutsideHandler__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">el.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contains</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event.target)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        binding.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, el.__clickOutsideHandler__);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  unmounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, el.__clickOutsideHandler__);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="ç»“è¯­" tabindex="-1">ç»“è¯­ <a class="header-anchor" href="#ç»“è¯­" aria-label="Permalink to &quot;ç»“è¯­&quot;">â€‹</a></h2><p>è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯ Vue é‡Œæœ€æ¥è¿‘&quot;åº•å±‚æ“ä½œ&quot;çš„ API ä¹‹ä¸€ã€‚å®ƒçš„ç”¨æ­¦ä¹‹åœ°åœ¨äºï¼š</p><ol><li><strong>å¿…é¡»ç›´æ¥æ“ä½œ DOM</strong>ï¼Œ<code>ref</code> æˆ– <code>watch</code> éƒ½ä¸å¥½ä½¿çš„æƒ…å†µã€‚</li><li><strong>å°è£…å¯å¤ç”¨çš„è¡Œä¸º</strong>ï¼Œé¿å…åˆ°å¤„ <code>querySelector</code>ã€‚</li><li><strong>å¢å¼ºå¯è¯»æ€§</strong>ï¼Œè®©æ¨¡æ¿ä»£ç æ›´æ¸…æ™°ã€‚</li></ol><p>ä½†è¯·è®°ä½ï¼šå¦‚æœ Vue å†…ç½®çš„æ–¹å¼èƒ½è§£å†³é—®é¢˜ï¼Œå°±ä¸è¦å¼•å…¥é¢å¤–çš„å¤æ‚æ€§ã€‚<strong>å†™ä»£ç æ˜¯ä¸€é—¨æƒè¡¡çš„è‰ºæœ¯ã€‚</strong></p><p>å¦‚æœä¸‹æ¬¡ä½ åˆæƒ³åœ¨ Vue ä¸­ä½¿ç”¨ <code>document.querySelector</code>ï¼Œè¯•è¯•å†™ä¸ªæŒ‡ä»¤ï¼Œè¯´ä¸å®šèƒ½è®©ä½ çš„ä»£ç æ›´ä¼˜é›… ğŸ˜‰ã€‚</p>`,50)]))}const c=i(p,[["render",e]]);export{g as __pageData,c as default};
